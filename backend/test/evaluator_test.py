import asyncio

from utils.llm_initial_util import initialize_llm
import models.state as state
import agent.evaluator as evaluator
import logging

logging.basicConfig(
    level=logging.INFO, # 设置根logger的级别为DEBUG，能捕获所有级别的日志
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    datefmt='%Y-%m-%d %H:%M:%S'
)

# 创建一个我们自己应用的顶层logger（可选，但推荐）
main_logger = logging.getLogger(__name__)
main_logger.info("应用程序启动...")

detector_result = {'账号登录': ['验证使用有效账号、密码和验证码点击登录可成功进入系统首页',
                                '验证首次登录成功后弹窗提示修改初始密码，点击【确定】跳转至重置初始密码页面',
                                '验证账号输入后显示清空按钮，点击清空按钮可清空已输入账号',
                                '验证密码输入后显示明文查看按钮及清空按钮，鼠标按下明文查看按钮显示明文、松开恢复密文，点击清空按钮可清空已输入密码',
                                '验证点击验证码展示区域可刷新4位大写英文字母验证码',
                                '验证输入框获取焦点时提示文字消失且边框变为绿色，失去焦点时恢复原状',
                                '验证点击【找回密码】按钮可跳转至找回密码页面',
                                '验证账号输入框输入空值（null/空字符串）时点击登录，对应输入框下方显示错误提示',
                                '验证账号输入框输入空格字符串时点击登录，对应输入框下方显示错误提示',
                                '验证账号输入框输入超长字符（如超过系统限制长度）时点击登录，对应输入框下方显示错误提示',
                                '验证账号输入框输入特殊字符（如!@#$%^&*）时点击登录，对应输入框下方显示错误提示',
                                '验证密码输入框输入空值时点击登录，对应输入框下方显示错误提示',
                                '验证密码输入框输入空格字符串时点击登录，对应输入框下方显示错误提示',
                                '验证密码输入框输入超长字符时点击登录，对应输入框下方显示错误提示',
                                '验证密码输入框输入刚好等于系统规定的最小长度的字符时，校验通过',
                                '验证验证码输入3位大写字母时点击登录，对应输入框下方显示错误提示',
                                '验证验证码输入5位大写字母时点击登录，对应输入框下方显示错误提示',
                                '验证输入不存在的账号、正确密码和验证码时点击登录，账号输入框下方显示错误提示',
                                '验证输入存在的账号、错误密码和正确验证码时点击登录，密码输入框下方显示错误提示',
                                '验证输入正确账号、密码和错误验证码（如小写字母、数字、特殊字符、错误4位大写）时点击登录，验证码输入框下方显示错误提示',
                                '验证验证码生成后超过60秒输入并点击登录，显示验证码过期错误提示',
                                '验证点击验证码展示区域刷新后，旧验证码失效，使用旧验证码登录显示错误提示',
                                '验证点击登录按钮时网络中断，系统提示网络错误',
                                '验证点击登录按钮时服务器返回500错误，系统提示服务器错误',
                                '验证首次登录修改初始密码成功后，重新输入账号、密码、验证码可成功登录',
                                '验证点击【登录】按钮后，未完成请求前再次点击，按钮置灰不可点击',
                                '验证密码输入框输入包含特殊字符（如!@#$%^&*）的符合长度要求的密码时，点击登录按钮校验通过',
                                '验证账号输入框输入刚好等于系统规定最小长度的字符时，校验通过',
                                '验证密码输入框的明文查看按钮，鼠标按下后移动至按钮外松开，密码恢复为密文展示',
                                '验证验证码生成后刚好60秒时输入并点击登录，验证码有效',
                                '验证输入不存在的账号、错误密码和错误验证码时点击登录，仅账号输入框下方显示错误提示（符合依次校验逻辑）'],
                   '重置初始密码': ['验证首次登录成功后弹窗点击【确定】可跳转至重置初始密码页面',
                                    '验证输入符合要求的新密码、确认密码（与新密码一致）和有效验证码时点击【提交】，提示重置成功并返回登录页面',
                                    '验证新密码输入后显示明文查看按钮及清空按钮，鼠标按下明文查看按钮显示明文、松开恢复密文，点击清空按钮可清空已输入新密码',
                                    '验证确认密码输入后显示明文查看按钮及清空按钮，鼠标按下明文查看按钮显示明文、松开恢复密文，点击清空按钮可清空已输入确认密码',
                                    '验证点击【获取验证码】按钮向绑定手机号发送6位数字验证码，按钮显示60秒倒计时，倒计时结束后恢复原状',
                                    '验证输入框获取焦点时提示文字消失且边框变为绿色，失去焦点时恢复原状',
                                    '验证点击【取消】按钮可取消修改并返回登录页面',
                                    '验证新密码输入框输入空值时点击【提交】，对应输入框下方显示错误提示',
                                    '验证新密码输入框输入空格字符串时点击【提交】，对应输入框下方显示错误提示',
                                    '验证新密码输入框输入超长字符时点击【提交】，对应输入框下方显示错误提示',
                                    '验证新密码输入框输入刚好等于系统规定的最小长度的字符时，校验通过',
                                    '验证确认密码与新密码不一致时点击【提交】，确认密码输入框下方显示错误提示',
                                    '验证验证码输入3位数字时点击【提交】，对应输入框下方显示错误提示',
                                    '验证验证码输入5位数字时点击【提交】，对应输入框下方显示错误提示',
                                    '验证验证码发送后超过60秒输入并点击【提交】，显示验证码过期错误提示',
                                    '验证在60秒倒计时内多次点击【获取验证码】按钮，仅发送一次验证码且倒计时不重置',
                                    '验证点击【获取验证码】按钮时网络中断，系统提示网络错误且按钮未进入倒计时',
                                    '验证点击【提交】按钮时网络中断，系统提示网络错误且未完成密码重置',
                                    '验证点击【提交】按钮时服务器返回500错误，系统提示服务器错误且未完成密码重置',
                                    '验证点击【提交】按钮后，未完成请求前再次点击，按钮置灰不可点击',
                                    '验证新密码输入框输入包含特殊字符（如!@#$%^&*）的符合长度要求的密码时，校验通过',
                                    '验证新密码输入框的明文查看按钮，鼠标按下后移动至按钮外松开，密码恢复为密文展示',
                                    '验证确认密码输入框的明文查看按钮，鼠标按下后移动至按钮外松开，密码恢复为密文展示',
                                    '验证验证码发送后刚好60秒时输入并点击【提交】，验证码有效',
                                    '验证【获取验证码】按钮倒计时结束后再次点击，重新发送验证码并开始新的60秒倒计时',
                                    '验证非首次登录用户（已修改过初始密码）直接访问重置初始密码页面，系统跳转至登录页面或提示无权限',
                                    '验证重置初始密码时，新密码与原初始密码相同，点击【提交】后新密码输入框下方显示错误提示（符合首次登录需修改初始密码的要求）'],
                   '找回密码': ['验证登录页面点击【找回密码】按钮可跳转至找回密码页面',
                                '验证输入符合要求的新密码、确认密码（与新密码一致）和有效验证码时点击【提交】，提示重置成功并返回登录页面',
                                '验证新密码输入后显示明文查看按钮及清空按钮，鼠标按下明文查看按钮显示明文、松开恢复密文，点击清空按钮可清空已输入新密码',
                                '验证确认密码输入后显示明文查看按钮及清空按钮，鼠标按下明文查看按钮显示明文、松开恢复密文，点击清空按钮可清空已输入确认密码',
                                '验证点击【获取验证码】按钮向绑定手机号发送6位数字验证码，按钮显示60秒倒计时，倒计时结束后恢复原状',
                                '验证输入框获取焦点时提示文字消失且边框变为绿色，失去焦点时恢复原状',
                                '验证点击【取消】按钮可取消操作并返回登录页面',
                                '验证新密码输入框输入空值时点击【提交】，对应输入框下方显示错误提示',
                                '验证新密码输入框输入空格字符串时点击【提交】，对应输入框下方显示错误提示',
                                '验证新密码输入框输入超长字符时点击【提交】，对应输入框下方显示错误提示',
                                '验证新密码输入框输入刚好等于系统规定的最小长度的字符时，校验通过',
                                '验证确认密码与新密码不一致时点击【提交】，确认密码输入框下方显示错误提示',
                                '验证验证码输入3位数字时点击【提交】，对应输入框下方显示错误提示',
                                '验证验证码输入5位数字时点击【提交】，对应输入框下方显示错误提示',
                                '验证验证码发送后超过60秒输入并点击【提交】，显示验证码过期错误提示',
                                '验证在60秒倒计时内多次点击【获取验证码】按钮，仅发送一次验证码且倒计时不重置',
                                '验证点击【获取验证码】按钮时网络中断，系统提示网络错误且按钮未进入倒计时',
                                '验证点击【提交】按钮时网络中断，系统提示网络错误且未完成密码找回',
                                '验证点击【提交】按钮时服务器返回500错误，系统提示服务器错误且未完成密码找回',
                                '验证点击【提交】按钮后，未完成请求前再次点击，按钮置灰不可点击',
                                '验证新密码输入框输入包含特殊字符（如!@#$%^&*）的符合长度要求的密码时，校验通过',
                                '验证新密码输入框的明文查看按钮，鼠标按下后移动至按钮外松开，密码恢复为密文展示',
                                '验证确认密码输入框的明文查看按钮，鼠标按下后移动至按钮外松开，密码恢复为密文展示',
                                '验证验证码发送后刚好60秒时输入并点击【提交】，验证码有效',
                                '验证【获取验证码】按钮倒计时结束后再次点击，重新发送验证码并开始新的60秒倒计时'],
                   '修改密码': ['验证成功登录后在我的页面点击修改密码可进入修改密码页面',
                                '验证输入正确原密码、符合要求的新密码（与原密码不同）、确认密码（与新密码一致）和有效验证码时点击【提交】，提示修改成功',
                                '验证原密码输入后显示明文查看按钮及清空按钮，鼠标按下明文查看按钮显示明文、松开恢复密文，点击清空按钮可清空已输入原密码',
                                '验证新密码输入后显示明文查看按钮及清空按钮，鼠标按下明文查看按钮显示明文、松开恢复密文，点击清空按钮可清空已输入新密码',
                                '验证确认密码输入后显示明文查看按钮及清空按钮，鼠标按下明文查看按钮显示明文、松开恢复密文，点击清空按钮可清空已输入确认密码',
                                '验证点击【获取验证码】按钮向绑定手机号发送6位数字验证码，按钮显示60秒倒计时，倒计时结束后恢复原状',
                                '验证输入框获取焦点时提示文字消失且边框变为绿色，失去焦点时恢复原状',
                                '验证点击【取消】按钮可取消修改并返回我的页面',
                                '验证原密码输入框输入空值时点击【提交】，对应输入框下方显示错误提示',
                                '验证原密码输入框输入空格字符串时点击【提交】，对应输入框下方显示错误提示',
                                '验证原密码输入框输入超长字符时点击【提交】，对应输入框下方显示错误提示',
                                '验证原密码输入框输入刚好等于系统规定的最小长度的字符时，校验通过',
                                '验证输入错误原密码、正确新密码、确认密码和验证码时点击【提交】，原密码输入框下方显示错误提示',
                                '验证新密码输入框输入空值时点击【提交】，对应输入框下方显示错误提示',
                                '验证新密码输入框输入空格字符串时点击【提交】，对应输入框下方显示错误提示',
                                '验证新密码输入框输入超长字符时点击【提交】，对应输入框下方显示错误提示',
                                '验证新密码输入框输入刚好等于系统规定的最小长度的字符时，校验通过',
                                '验证确认密码与新密码不一致时点击【提交】，确认密码输入框下方显示错误提示',
                                '验证新密码与原密码相同时点击【提交】，新密码输入框下方显示错误提示',
                                '验证验证码输入3位数字时点击【提交】，对应输入框下方显示错误提示',
                                '验证验证码输入5位数字时点击【提交】，对应输入框下方显示错误提示',
                                '验证验证码发送后超过60秒输入并点击【提交】，显示验证码过期错误提示',
                                '验证在60秒倒计时内多次点击【获取验证码】按钮，仅发送一次验证码且倒计时不重置',
                                '验证点击【获取验证码】按钮时网络中断，系统提示网络错误且按钮未进入倒计时',
                                '验证点击【提交】按钮时网络中断，系统提示网络错误且未完成密码修改',
                                '验证点击【提交】按钮时服务器返回500错误，系统提示服务器错误且未完成密码修改',
                                '验证点击【提交】按钮后，未完成请求前再次点击，按钮置灰不可点击',
                                '验证原密码输入框输入包含特殊字符（如!@#$%^&*）的正确密码时，校验通过',
                                '验证新密码输入框输入包含特殊字符（如!@#$%^&*）的符合长度要求的密码时，校验通过',
                                '验证原密码输入框的明文查看按钮，鼠标按下后移动至按钮外松开，密码恢复为密文展示',
                                '验证新密码输入框的明文查看按钮，鼠标按下后移动至按钮外松开，密码恢复为密文展示',
                                '验证确认密码输入框的明文查看按钮，鼠标按下后移动至按钮外松开，密码恢复为密文展示',
                                '验证验证码发送后刚好60秒时输入并点击【提交】，验证码有效',
                                '验证【获取验证码】按钮倒计时结束后再次点击，重新发送验证码并开始新的60秒倒计时',
                                '验证未登录用户直接访问修改密码页面，系统跳转至登录页面或提示无权限']
                   }

generator_result = [{'case_ID': 'TP-001', 'function': '账号登录',
                     'testPoint': '验证使用有效账号、密码和验证码点击登录可成功进入系统首页',
                     'prerequisite': '用户已拥有有效账号、密码，且验证码正确，处于登录页面',
                     'step': '1. 打开登录页面；2. 在账号输入框输入有效账号；3. 在密码输入框输入正确密码；4. 在验证码输入框输入正确验证码；5. 点击登录按钮',
                     'expected': '成功登录并进入系统首页'},
                    {'case_ID': 'TP-002', 'function': '账号登录',
                     'testPoint': '验证首次登录成功后弹窗提示修改初始密码，点击【确定】跳转至重置初始密码页面',
                     'prerequisite': '用户首次登录成功，弹出修改初始密码弹窗',
                     'step': '1. 首次登录成功后，弹窗出现；2. 点击弹窗中的【确定】按钮',
                     'expected': '页面跳转至重置初始密码页面'},
                    {'case_ID': 'TP-003', 'function': '账号登录',
                     'testPoint': '验证账号输入后显示清空按钮，点击清空按钮可清空已输入账号',
                     'prerequisite': '登录页面已打开，账号输入框有输入内容',
                     'step': '1. 在账号输入框输入账号；2. 观察到账号输入框出现清空按钮；3. 点击清空按钮',
                     'expected': '账号输入框内容被清空'},
                    {'case_ID': 'TP-004', 'function': '账号登录',
                     'testPoint': '验证密码输入后显示明文查看按钮及清空按钮，鼠标按下明文查看按钮显示明文、松开恢复密文，点击清空按钮可清空已输入密码',
                     'prerequisite': '登录页面已打开，密码输入框有输入内容',
                     'step': '1. 在密码输入框输入密码；2. 观察到密码输入框有明文查看按钮和清空按钮；3. 按下明文查看按钮，查看密码明文；4. 松开明文查看按钮，恢复密文；5. 点击清空按钮',
                     'expected': '密码输入框内容被清空，且密文显示正常'},
                    {'case_ID': 'TP-005', 'function': '账号登录',
                     'testPoint': '验证点击验证码展示区域可刷新4位大写英文字母验证码',
                     'prerequisite': '登录页面已打开，验证码展示区域可见',
                     'step': '1. 点击验证码展示区域；2. 观察验证码是否变为新的4位大写英文字母',
                     'expected': '验证码展示区域显示新的4位大写英文字母验证码'},
                    {'case_ID': 'TP-006', 'function': '账号登录',
                     'testPoint': '验证输入框获取焦点时提示文字消失且边框变为绿色，失去焦点时恢复原状',
                     'prerequisite': '登录页面已打开，输入框可见',
                     'step': '1. 点击账号输入框，使其获取焦点；2. 观察提示文字是否消失，边框是否变为绿色；3. 点击其他区域，失去焦点；4. 观察提示文字是否恢复，边框是否恢复原状',
                     'expected': '获取焦点时提示文字消失、边框变绿，失去焦点时恢复原状'},
                    {'case_ID': 'TP-007', 'function': '账号登录',
                     'testPoint': '验证点击【找回密码】按钮可跳转至找回密码页面',
                     'prerequisite': '登录页面已打开，【找回密码】按钮可见',
                     'step': '1. 点击登录页面的【找回密码】按钮',
                     'expected': '页面跳转至找回密码页面'},
                    {'case_ID': 'TP-008', 'function': '账号登录',
                     'testPoint': '验证账号输入框输入空值（null/空字符串）时点击登录，对应输入框下方显示错误提示',
                     'prerequisite': '登录页面已打开，账号输入框为空',
                     'step': '1. 在账号输入框输入空值；2. 点击登录按钮',
                     'expected': '账号输入框下方显示错误提示'},
                    {'case_ID': 'TP-009', 'function': '账号登录',
                     'testPoint': '验证账号输入框输入空格字符串时点击登录，对应输入框下方显示错误提示',
                     'prerequisite': '登录页面已打开，账号输入框输入空格',
                     'step': '1. 在账号输入框输入空格字符串；2. 点击登录按钮', 'expected': '账号输入框下方显示错误提示'},
                    {'case_ID': 'TP-010', 'function': '账号登录',
                     'testPoint': '验证账号输入框输入超长字符（如超过系统限制长度）时点击登录，对应输入框下方显示错误提示',
                     'prerequisite': '登录页面已打开，账号输入框输入超长字符',
                     'step': '1. 在账号输入框输入超过系统限制长度的字符；2. 点击登录按钮',
                     'expected': '账号输入框下方显示错误提示'},
                    {'case_ID': 'TP-011', 'function': '账号登录',
                     'testPoint': '验证账号输入框输入特殊字符（如!@#$%^&*）时点击登录，对应输入框下方显示错误提示',
                     'prerequisite': '登录页面已打开，账号输入框输入特殊字符',
                     'step': '1. 在账号输入框输入特殊字符；2. 点击登录按钮',
                     'expected': '账号输入框下方显示错误提示'},
                    {'case_ID': 'TP-012', 'function': '账号登录',
                     'testPoint': '验证密码输入框输入空值时点击登录，对应输入框下方显示错误提示',
                     'prerequisite': '登录页面已打开，密码输入框为空', 'step': '1. 在密码输入框输入空值；2. 点击登录按钮',
                     'expected': '密码输入框下方显示错误提示'},
                    {'case_ID': 'TP-013', 'function': '账号登录',
                     'testPoint': '验证密码输入框输入空格字符串时点击登录，对应输入框下方显示错误提示',
                     'prerequisite': '登录页面已打开，密码输入框输入空格',
                     'step': '1. 在密码输入框输入空格字符串；2. 点击登录按钮',
                     'expected': '密码输入框下方显示错误提示'},
                    {'case_ID': 'TP-014', 'function': '账号登录',
                     'testPoint': '验证密码输入框输入超长字符时点击登录，对应输入框下方显示错误提示',
                     'prerequisite': '登录页面已打开，密码输入框输入超长字符',
                     'step': '1. 在密码输入框输入超过系统限制长度的字符；2. 点击登录按钮',
                     'expected': '密码输入框下方显示错误提示'},
                    {'case_ID': 'TP-015', 'function': '账号登录',
                     'testPoint': '验证密码输入框输入刚好等于系统规定的最小长度的字符时，校验通过',
                     'prerequisite': '登录页面已打开，密码输入框输入刚好等于最小长度的字符',
                     'step': '1. 在密码输入框输入刚好等于系统规定最小长度的字符；2. 点击登录按钮',
                     'expected': '校验通过，无错误提示'},
                    {'case_ID': 'TP-016', 'function': '账号登录',
                     'testPoint': '验证验证码输入3位大写字母时点击登录，对应输入框下方显示错误提示',
                     'prerequisite': '登录页面已打开，验证码输入框输入3位大写字母',
                     'step': '1. 在验证码输入框输入3位大写字母；2. 点击登录按钮',
                     'expected': '验证码输入框下方显示错误提示'},
                    {'case_ID': 'TP-017', 'function': '账号登录',
                     'testPoint': '验证验证码输入5位大写字母时点击登录，对应输入框下方显示错误提示',
                     'prerequisite': '登录页面已打开，验证码输入框输入5位大写字母',
                     'step': '1. 在验证码输入框输入5位大写字母；2. 点击登录按钮',
                     'expected': '验证码输入框下方显示错误提示'},
                    {'case_ID': 'TP-018', 'function': '账号登录',
                     'testPoint': '验证输入不存在的账号、正确密码和验证码时点击登录，账号输入框下方显示错误提示',
                     'prerequisite': '登录页面已打开，输入不存在的账号、正确密码和验证码',
                     'step': '1. 输入不存在的账号、正确密码和验证码；2. 点击登录按钮',
                     'expected': '账号输入框下方显示错误提示'},
                    {'case_ID': 'TP-019', 'function': '账号登录',
                     'testPoint': '验证输入存在的账号、错误密码和正确验证码时点击登录，密码输入框下方显示错误提示',
                     'prerequisite': '登录页面已打开，输入存在的账号、错误密码和正确验证码',
                     'step': '1. 输入存在的账号、错误密码和正确验证码；2. 点击登录按钮',
                     'expected': '密码输入框下方显示错误提示'},
                    {'case_ID': 'TP-020', 'function': '账号登录',
                     'testPoint': '验证输入正确账号、密码和错误验证码（如小写字母、数字、特殊字符、错误4位大写）时点击登录，验证码输入框下方显示错误提示',
                     'prerequisite': '登录页面已打开，输入正确账号、密码和错误验证码',
                     'step': '1. 输入正确账号、密码和错误验证码；2. 点击登录按钮',
                     'expected': '验证码输入框下方显示错误提示'},
                    {'case_ID': 'TP-021', 'function': '账号登录',
                     'testPoint': '验证验证码生成后超过60秒输入并点击登录，显示验证码过期错误提示',
                     'prerequisite': '用户已进入登录页面，且验证码已发送并开始倒计时',
                     'step': '1. 等待验证码发送后60秒以上；2. 在验证码输入框中输入之前收到的验证码；3. 点击【登录】按钮',
                     'expected': '验证码输入框下方显示“验证码过期”的红字错误提示'},
                    {'case_ID': 'TP-022', 'function': '账号登录',
                     'testPoint': '验证点击验证码展示区域刷新后，旧验证码失效，使用旧验证码登录显示错误提示',
                     'prerequisite': '用户已进入登录页面，且有有效的旧验证码',
                     'step': '1. 点击验证码展示区域刷新验证码；2. 在账号、密码输入框输入正确信息；3. 在验证码输入框输入旧验证码；4. 点击【登录】按钮',
                     'expected': '验证码输入框下方显示“验证码错误”的红字错误提示'},
                    {'case_ID': 'TP-023', 'function': '账号登录',
                     'testPoint': '验证点击登录按钮时网络中断，系统提示网络错误',
                     'prerequisite': '用户已进入登录页面，输入账号、密码、验证码',
                     'step': '1. 断开网络连接；2. 点击【登录】按钮',
                     'expected': '页面显示“网络错误，请检查网络连接”的提示'},
                    {'case_ID': 'TP-024', 'function': '账号登录',
                     'testPoint': '验证点击登录按钮时服务器返回500错误，系统提示服务器错误',
                     'prerequisite': '用户已进入登录页面，输入账号、密码、验证码',
                     'step': '1. 模拟服务器返回500错误；2. 点击【登录】按钮',
                     'expected': '页面显示“服务器错误，请稍后重试”的提示'},
                    {'case_ID': 'TP-025', 'function': '账号登录',
                     'testPoint': '验证首次登录修改初始密码成功后，重新输入账号、密码、验证码可成功登录',
                     'prerequisite': '用户已初次成功登录并修改初始密码成功，处于登出状态',
                     'step': '1. 打开登录页面；2. 输入修改后的账号、密码、验证码；3. 点击【登录】按钮',
                     'expected': '用户成功登录并进入系统首页'},
                    {'case_ID': 'TP-026', 'function': '账号登录',
                     'testPoint': '验证点击登录按钮后，未完成请求前再次点击，按钮置灰不可点击',
                     'prerequisite': '用户已进入登录页面，输入账号、密码、验证码',
                     'step': '1. 点击【登录】按钮；2. 在请求未完成时再次点击【登录】按钮',
                     'expected': '第二次点击时，【登录】按钮处于置灰不可点击状态'},
                    {'case_ID': 'TP-027', 'function': '账号登录',
                     'testPoint': '验证密码输入框输入包含特殊字符（如!@#$%^&*）的符合长度要求的密码时，点击登录按钮校验通过',
                     'prerequisite': '用户已进入登录页面，输入账号和符合长度要求的含特殊字符的密码，正确验证码',
                     'step': '1. 在密码输入框输入包含特殊字符且长度符合要求的密码；2. 点击【登录】按钮',
                     'expected': '密码输入框下方无错误提示，校验通过'},
                    {'case_ID': 'TP-028', 'function': '账号登录',
                     'testPoint': '验证账号输入框输入刚好等于系统规定最小长度的字符时，校验通过',
                     'prerequisite': '用户已进入登录页面，输入刚好系统规定最小长度的账号，正确密码和验证码',
                     'step': '1. 在账号输入框输入刚好系统规定最小长度的字符；2. 点击【登录】按钮',
                     'expected': '账号输入框下方无错误提示，校验通过'},
                    {'case_ID': 'TP-029', 'function': '账号登录',
                     'testPoint': '验证密码输入框的明文查看按钮，鼠标按下后移动至按钮外松开，密码恢复为密文展示',
                     'prerequisite': '用户已进入登录页面，在密码输入框输入密码',
                     'step': '1. 在密码输入框输入密码后，按下明文查看按钮；2. 将鼠标移动出明文查看按钮后松开',
                     'expected': '密码显示为密文状态'},
                    {'case_ID': 'TP-030', 'function': '账号登录',
                     'testPoint': '验证验证码生成后刚好60秒时输入并点击登录，验证码有效',
                     'prerequisite': '用户已进入登录页面，验证码已发送且倒计时刚好60秒',
                     'step': '1. 在验证码输入框中输入刚好60秒内收到的验证码；2. 点击【登录】按钮',
                     'expected': '验证码校验通过，正常登录'},
                    {'case_ID': 'TP-031', 'function': '账号登录',
                     'testPoint': '验证输入不存在的账号、错误密码和错误验证码时点击登录，仅账号输入框下方显示错误提示（符合依次校验逻辑）',
                     'prerequisite': '用户已进入登录页面，输入不存在的账号、错误密码和错误验证码',
                     'step': '1. 输入不存在的账号；2. 输入错误密码；3. 输入错误验证码；4. 点击【登录】按钮',
                     'expected': '仅账号输入框下方显示“账号不存在”的红字错误提示'},
                    {'case_ID': 'TP-032', 'function': '重置初始密码',
                     'testPoint': '验证首次登录成功后弹窗点击【确定】可跳转至重置初始密码页面',
                     'prerequisite': '用户已经首次成功登录账号，弹窗出现',
                     'step': '1. 首次成功登录账号，弹窗出现\n2. 点击弹窗的【确定】按钮',
                     'expected': '页面跳转至重置初始密码页面'},
                    {'case_ID': 'TP-033', 'function': '重置初始密码',
                     'testPoint': '验证输入符合要求的新密码、确认密码（与新密码一致）和有效验证码时点击【提交】，提示重置成功并返回登录页面',
                     'prerequisite': '已经进入重置初始密码页面，且有有效的验证码',
                     'step': '1. 在新密码输入框输入符合要求的密码\n2. 在确认密码输入框输入与新密码一致的密码\n3. 输入有效的验证码\n4. 点击【提交】按钮',
                     'expected': '提示重置成功并返回登录页面'},
                    {'case_ID': 'TP-034', 'function': '重置初始密码',
                     'testPoint': '验证新密码输入后显示明文查看按钮及清空按钮，鼠标按下明文查看按钮显示明文、松开恢复密文，点击清空按钮可清空已输入新密码',
                     'prerequisite': '进入重置初始密码页面，新密码输入框有内容',
                     'step': '1. 在新密码输入框输入密码\n2. 鼠标按下明文查看按钮\n3. 鼠标松开明文查看按钮\n4. 点击清空按钮',
                     'expected': '鼠标按下时显示明文，松开恢复密文；点击清空按钮后新密码输入框内容清空'},
                    {'case_ID': 'TP-035', 'function': '重置初始密码',
                     'testPoint': '验证确认密码输入后显示明文查看按钮及清空按钮，鼠标按下明文查看按钮显示明文、松开恢复密文，点击清空按钮可清空已输入确认密码',
                     'prerequisite': '进入重置初始密码页面，确认密码输入框有内容',
                     'step': '1. 在确认密码输入框输入密码\n2. 鼠标按下明文查看按钮\n3. 鼠标松开明文查看按钮\n4. 点击清空按钮',
                     'expected': '鼠标按下时显示明文，松开恢复密文；点击清空按钮后确认密码输入框内容清空'},
                    {'case_ID': 'TP-036', 'function': '重置初始密码',
                     'testPoint': '验证点击【获取验证码】按钮向绑定手机号发送6位数字验证码，按钮显示60秒倒计时，倒计时结束后恢复原状',
                     'prerequisite': '进入重置初始密码页面',
                     'step': '1. 点击【获取验证码】按钮\n2. 观察按钮显示60秒倒计时\n3. 等待60秒后观察按钮是否恢复原状',
                     'expected': '点击后向绑定手机号发送6位数字验证码，按钮显示60秒倒计时，倒计时结束后恢复原状'},
                    {'case_ID': 'TP-037', 'function': '重置初始密码',
                     'testPoint': '验证输入框获取焦点时提示文字消失且边框变为绿色，失去焦点时恢复原状',
                     'prerequisite': '进入重置初始密码页面，有输入框',
                     'step': '1. 点击某个输入框获取焦点\n2. 观察提示文字是否消失，边框是否变为绿色\n3. 点击其他区域失去焦点\n4. 观察提示文字是否恢复，边框是否恢复原状',
                     'expected': '获取焦点时提示文字消失，边框变为绿色；失去焦点时提示文字恢复，边框恢复原状'},
                    {'case_ID': 'TP-038', 'function': '重置初始密码',
                     'testPoint': '验证点击【取消】按钮可取消修改并返回登录页面',
                     'prerequisite': '进入重置初始密码页面',
                     'step': '1. 点击【取消】按钮',
                     'expected': '取消修改并返回登录页面'},
                    {'case_ID': 'TP-039', 'function': '重置初始密码',
                     'testPoint': '验证新密码输入框输入空值时点击【提交】，对应输入框下方显示错误提示',
                     'prerequisite': '进入重置初始密码页面，新密码输入框为空',
                     'step': '1. 在新密码输入框输入空值\n2. 点击【提交】按钮\n3. 观察新密码输入框下方是否有错误提示',
                     'expected': '新密码输入框下方显示错误提示'},
                    {'case_ID': 'TP-040', 'function': '重置初始密码',
                     'testPoint': '验证新密码输入框输入空格字符串时点击【提交】，对应输入框下方显示错误提示',
                     'prerequisite': '进入重置初始密码页面，新密码输入框输入空格',
                     'step': '1. 在新密码输入框输入空格字符串\n2. 点击【提交】按钮\n3. 观察新密码输入框下方是否有错误提示',
                     'expected': '新密码输入框下方显示错误提示'},
                    {'case_ID': 'TP-041', 'function': '重置初始密码',
                     'testPoint': '验证新密码输入框输入超长字符时点击【提交】，对应输入框下方显示错误提示',
                     'prerequisite': '进入重置初始密码页面，新密码输入框输入超长字符',
                     'step': '1. 在新密码输入框输入超长字符\n2. 点击【提交】按钮\n3. 观察新密码输入框下方是否有错误提示',
                     'expected': '新密码输入框下方显示错误提示'},
                    {'case_ID': 'TP-042', 'function': '重置初始密码',
                     'testPoint': '验证新密码输入框输入刚好等于系统规定的最小长度的字符时，校验通过',
                     'prerequisite': '进入重置初始密码页面，新密码输入框输入刚好最小长度的字符',
                     'step': '1. 在新密码输入框输入刚好等于系统规定最小长度的字符\n2. 点击【提交】按钮',
                     'expected': '校验通过'},
                    {'case_ID': 'TP-043', 'function': '重置初始密码',
                     'testPoint': '验证确认密码与新密码不一致时点击【提交】，确认密码输入框下方显示错误提示',
                     'prerequisite': '进入重置初始密码页面，新密码和确认密码不一致',
                     'step': '1. 在新密码输入框输入密码A\n2. 在确认密码输入框输入密码B（与A不一致）\n3. 点击【提交】按钮\n4. 观察确认密码输入框下方是否有错误提示',
                     'expected': '确认密码输入框下方显示错误提示'},
                    {'case_ID': 'TP-044', 'function': '重置初始密码',
                     'testPoint': '验证验证码输入3位数字时点击【提交】，对应输入框下方显示错误提示',
                     'prerequisite': '进入重置初始密码页面，验证码输入3位数字',
                     'step': '1. 在验证码输入框输入3位数字\n2. 点击【提交】按钮\n3. 观察验证码输入框下方是否有错误提示',
                     'expected': '验证码输入框下方显示错误提示'},
                    {'case_ID': 'TP-045', 'function': '重置初始密码',
                     'testPoint': '验证验证码输入5位数字时点击【提交】，对应输入框下方显示错误提示',
                     'prerequisite': '进入重置初始密码页面，验证码输入5位数字',
                     'step': '1. 在验证码输入框输入5位数字\n2. 点击【提交】按钮\n3. 观察验证码输入框下方是否有错误提示',
                     'expected': '验证码输入框下方显示错误提示'},
                    {'case_ID': 'TP-046', 'function': '重置初始密码',
                     'testPoint': '验证验证码发送后超过60秒输入并点击【提交】，显示验证码过期错误提示',
                     'prerequisite': '发送验证码后超过60秒，输入验证码',
                     'step': '1. 发送验证码后等待超过60秒\n2. 在验证码输入框输入验证码\n3. 点击【提交】按钮\n4. 观察验证码输入框下方是否有验证码过期的错误提示',
                     'expected': '验证码输入框下方显示验证码过期错误提示'},
                    {'case_ID': 'TP-047', 'function': '重置初始密码',
                     'testPoint': '验证在60秒倒计时内多次点击【获取验证码】按钮，仅发送一次验证码且倒计时不重置',
                     'prerequisite': '进入重置初始密码页面，处于60秒倒计时内',
                     'step': '1. 点击【获取验证码】按钮\n2. 立即再次点击【获取验证码】按钮\n3. 观察是否只发送一次验证码，倒计时是否重置',
                     'expected': '仅发送一次验证码，倒计时不重置'},
                    {'case_ID': 'TP-048', 'function': '重置初始密码',
                     'testPoint': '验证点击【获取验证码】按钮时网络中断，系统提示网络错误且按钮未进入倒计时',
                     'prerequisite': '进入重置初始密码页面，网络中断',
                     'step': '1. 点击【获取验证码】按钮\n2. 观察是否提示网络错误，按钮是否进入倒计时',
                     'expected': '系统提示网络错误，按钮未进入倒计时'},
                    {'case_ID': 'TP-049', 'function': '重置初始密码',
                     'testPoint': '验证点击【提交】按钮时网络中断，系统提示网络错误且未完成密码重置',
                     'prerequisite': '进入重置初始密码页面，网络中断，已输入符合要求的信息',
                     'step': '1. 点击【提交】按钮\n2. 观察是否提示网络错误，是否完成密码重置',
                     'expected': '系统提示网络错误，未完成密码重置'},
                    {'case_ID': 'TP-050', 'function': '重置初始密码',
                     'testPoint': '验证点击【提交】按钮时服务器返回500错误，系统提示服务器错误且未完成密码重置',
                     'prerequisite': '进入重置初始密码页面，已输入符合要求的信息，服务器返回500错误',
                     'step': '1. 点击【提交】按钮\n2. 观察是否提示服务器错误，是否完成密码重置',
                     'expected': '系统提示服务器错误，未完成密码重置'},
                    {'case_ID': 'TP-051', 'function': '重置初始密码',
                     'testPoint': '验证点击【提交】按钮后，未完成请求前再次点击，按钮置灰不可点击',
                     'prerequisite': '进入重置初始密码页面，已输入符合要求的信息，点击【提交】按钮后未完成请求',
                     'step': '1. 点击【提交】按钮\n2. 在未完成请求前再次点击【提交】按钮\n3. 观察按钮是否置灰不可点击',
                     'expected': '按钮置灰不可点击'},
                    {'case_ID': 'TP-052', 'function': '重置初始密码',
                     'testPoint': '验证新密码输入框输入包含特殊字符（如!@#$%^&*）的符合长度要求的密码时，校验通过',
                     'prerequisite': '用户已进入重置初始密码页面',
                     'step': '1. 进入重置初始密码页面\n2. 在新密码输入框中输入包含特殊字符且符合长度要求的密码\n3. 点击【提交】按钮',
                     'expected': '新密码输入框下方没有红字错误提示，校验通过'},
                    {'case_ID': 'TP-053', 'function': '重置初始密码',
                     'testPoint': '验证新密码输入框的明文查看按钮，鼠标按下后移动至按钮外松开，密码恢复为密文展示',
                     'prerequisite': '用户已进入重置初始密码页面且新密码输入框有密码输入',
                     'step': '1. 在新密码输入框输入密码\n2. 按下明文查看按钮\n3. 将鼠标移动到按钮外松开',
                     'expected': '新密码输入框显示的密码由明文变为密文'},
                    {'case_ID': 'TP-054', 'function': '重置初始密码',
                     'testPoint': '验证确认密码输入框的明文查看按钮，鼠标按下后移动至按钮外松开，密码恢复为密文展示',
                     'prerequisite': '用户已进入重置初始密码页面且确认密码输入框有密码输入',
                     'step': '1. 在确认密码输入框输入密码\n2. 按下明文查看按钮\n3. 将鼠标移动到按钮外松开',
                     'expected': '确认密码输入框显示的密码由明文变为密文'},
                    {'case_ID': 'TP-055', 'function': '重置初始密码',
                     'testPoint': '验证验证码发送后刚好60秒时输入并点击【提交】，验证码有效',
                     'prerequisite': '用户已进入重置初始密码页面且已点击【获取验证码】按钮并等待60秒刚好结束',
                     'step': '1. 在验证码输入框输入刚好60秒时收到的验证码\n2. 点击【提交】按钮',
                     'expected': '验证码校验通过，无红字错误提示'},
                    {'case_ID': 'TP-056', 'function': '重置初始密码',
                     'testPoint': '验证【获取验证码】按钮倒计时结束后再次点击，重新发送验证码并开始新的60秒倒计时',
                     'prerequisite': '用户已进入重置初始密码页面且【获取验证码】按钮已倒计时结束',
                     'step': '1. 点击【获取验证码】按钮\n2. 观察倒计时是否重新开始60秒',
                     'expected': '点击后，【获取验证码】按钮开始新的60秒倒计时'},
                    {'case_ID': 'TP-057', 'function': '重置初始密码',
                     'testPoint': '验证非首次登录用户（已修改过初始密码）直接访问重置初始密码页面，系统跳转至登录页面或提示无权限',
                     'prerequisite': '用户是已修改过初始密码的非首次登录用户，尝试访问重置初始密码页面',
                     'step': '1. 直接访问重置初始密码页面',
                     'expected': '系统跳转至登录页面或提示无权限'},
                    {'case_ID': 'TP-058', 'function': '重置初始密码',
                     'testPoint': '验证重置初始密码时，新密码与原初始密码相同，点击【提交】后新密码输入框下方显示错误提示（符合首次登录需修改初始密码的要求）',
                     'prerequisite': '用户已进入重置初始密码页面且原初始密码已知，新密码输入与原初始密码相同',
                     'step': '1. 在新密码输入框输入与原初始密码相同的密码\n2. 点击【提交】按钮',
                     'expected': '新密码输入框下方显示红字错误提示'},
                    {'case_ID': 'TP-059', 'function': '找回密码',
                     'testPoint': '验证登录页面点击【找回密码】按钮可跳转至找回密码页面',
                     'prerequisite': '用户打开登录页面',
                     'step': '1. 打开登录页面\n2. 点击【找回密码】按钮',
                     'expected': '成功跳转至找回密码页面'},
                    {'case_ID': 'TP-060', 'function': '找回密码',
                     'testPoint': '验证输入符合要求的新密码、确认密码（与新密码一致）和有效验证码时点击【提交】，提示重置成功并返回登录页面',
                     'prerequisite': '用户进入找回密码页面，且已获取有效验证码',
                     'step': '1. 输入符合要求的新密码\n2. 输入与新密码一致的确认密码\n3. 输入有效验证码\n4. 点击【提交】按钮',
                     'expected': '提示重置密码成功并返回登录页面'},
                    {'case_ID': 'TP-061', 'function': '找回密码',
                     'testPoint': '验证新密码输入后显示明文查看按钮及清空按钮，鼠标按下明文查看按钮显示明文、松开恢复密文，点击清空按钮可清空已输入新密码',
                     'prerequisite': '用户进入找回密码页面，新密码输入框有内容',
                     'step': '1. 在新密码输入框输入密码\n2. 点击明文查看按钮\n3. 松开明文查看按钮\n4. 点击清空按钮',
                     'expected': '新密码输入框显示明文后恢复密文，且内容被清空'},
                    {'case_ID': 'TP-062', 'function': '找回密码',
                     'testPoint': '验证确认密码输入后显示明文查看按钮及清空按钮，鼠标按下明文查看按钮显示明文、松开恢复密文，点击清空按钮可清空已输入确认密码',
                     'prerequisite': '用户进入找回密码页面，确认密码输入框有内容',
                     'step': '1. 在确认密码输入框输入密码\n2. 点击明文查看按钮\n3. 松开明文查看按钮\n4. 点击清空按钮',
                     'expected': '确认密码输入框显示明文后恢复密文，且内容被清空'},
                    {'case_ID': 'TP-063', 'function': '找回密码',
                     'testPoint': '验证点击【获取验证码】按钮向绑定手机号发送6位数字验证码，按钮显示60秒倒计时，倒计时结束后恢复原状',
                     'prerequisite': '用户进入找回密码页面', 'step': '1. 点击【获取验证码】按钮\n2. 等待60秒',
                     'expected': '成功向绑定手机号发送6位数字验证码，按钮显示60秒倒计时，倒计时结束后恢复原状'},
                    {'case_ID': 'TP-064', 'function': '找回密码',
                     'testPoint': '验证输入框获取焦点时提示文字消失且边框变为绿色，失去焦点时恢复原状',
                     'prerequisite': '用户进入找回密码页面，输入框有提示文字',
                     'step': '1. 点击输入框获取焦点\n2. 离开输入框失去焦点',
                     'expected': '输入框获取焦点时提示文字消失且边框变为绿色，失去焦点时恢复原状'},
                    {'case_ID': 'TP-065', 'function': '找回密码',
                     'testPoint': '验证点击【取消】按钮可取消操作并返回登录页面', 'prerequisite': '用户进入找回密码页面',
                     'step': '点击【取消】按钮', 'expected': '成功取消操作并返回登录页面'},
                    {'case_ID': 'TP-066', 'function': '找回密码',
                     'testPoint': '验证新密码输入框输入空值时点击【提交】，对应输入框下方显示错误提示',
                     'prerequisite': '用户进入找回密码页面，新密码输入框为空',
                     'step': '1. 在新密码输入框输入空值\n2. 点击【提交】按钮',
                     'expected': '新密码输入框下方显示错误提示'},
                    {'case_ID': 'TP-067', 'function': '找回密码',
                     'testPoint': '验证新密码输入框输入空格字符串时点击【提交】，对应输入框下方显示错误提示',
                     'prerequisite': '用户进入找回密码页面，新密码输入框输入空格字符串',
                     'step': '1. 在新密码输入框输入空格字符串\n2. 点击【提交】按钮',
                     'expected': '新密码输入框下方显示错误提示'},
                    {'case_ID': 'TP-068', 'function': '找回密码',
                     'testPoint': '验证新密码输入框输入超长字符时点击【提交】，对应输入框下方显示错误提示',
                     'prerequisite': '用户进入找回密码页面，新密码输入框输入超长字符',
                     'step': '1. 在新密码输入框输入超长字符\n2. 点击【提交】按钮',
                     'expected': '新密码输入框下方显示错误提示'},
                    {'case_ID': 'TP-069', 'function': '找回密码',
                     'testPoint': '验证新密码输入框输入刚好等于系统规定的最小长度的字符时，校验通过',
                     'prerequisite': '用户进入找回密码页面，新密码输入框输入刚好最小长度字符',
                     'step': '1. 在新密码输入框输入刚好等于系统规定最小长度的字符\n2. 点击【提交】按钮',
                     'expected': '校验通过'},
                    {'case_ID': 'TP-070', 'function': '找回密码',
                     'testPoint': '验证确认密码与新密码不一致时点击【提交】，确认密码输入框下方显示错误提示',
                     'prerequisite': '用户进入找回密码页面，新密码和确认密码不一致',
                     'step': '1. 输入新密码\n2. 输入与新密码不一致的确认密码\n3. 点击【提交】按钮',
                     'expected': '确认密码输入框下方显示错误提示'},
                    {'case_ID': 'TP-071', 'function': '找回密码',
                     'testPoint': '验证验证码输入3位数字时点击【提交】，对应输入框下方显示错误提示',
                     'prerequisite': '用户进入找回密码页面，验证码输入3位数字',
                     'step': '1. 输入3位数字验证码\n2. 点击【提交】按钮',
                     'expected': '验证码输入框下方显示错误提示'},
                    {'case_ID': 'TP-072', 'function': '找回密码',
                     'testPoint': '验证验证码输入5位数字时点击【提交】，对应输入框下方显示错误提示',
                     'prerequisite': '用户进入找回密码页面，验证码输入5位数字',
                     'step': '1. 输入5位数字验证码\n2. 点击【提交】按钮', 'expected': '验证码输入框下方显示错误提示'},
                    {'case_ID': 'TP-073', 'function': '找回密码',
                     'testPoint': '验证验证码发送后超过60秒输入并点击【提交】，显示验证码过期错误提示',
                     'prerequisite': '用户进入找回密码页面，验证码发送超过60秒后输入',
                     'step': '1. 验证码发送超过60秒后输入验证码\n2. 点击【提交】按钮',
                     'expected': '显示验证码过期错误提示'},
                    {'case_ID': 'TP-074', 'function': '找回密码',
                     'testPoint': '验证在60秒倒计时内多次点击【获取验证码】按钮，仅发送一次验证码且倒计时不重置',
                     'prerequisite': '用户进入找回密码页面，处于60秒倒计时内',
                     'step': '多次点击【获取验证码】按钮',
                     'expected': '仅发送一次验证码且倒计时不重置'},
                    {'case_ID': 'TP-075', 'function': '找回密码',
                     'testPoint': '验证点击【获取验证码】按钮时网络中断，系统提示网络错误且按钮未进入倒计时',
                     'prerequisite': '用户进入找回密码页面，网络中断状态', 'step': '点击【获取验证码】按钮',
                     'expected': '系统提示网络错误且按钮未进入倒计时'},
                    {'case_ID': 'TP-076', 'function': '找回密码',
                     'testPoint': '验证点击【提交】按钮时网络中断，系统提示网络错误且未完成密码找回',
                     'prerequisite': '用户进入找回密码页面，网络中断状态，已输入符合要求的信息',
                     'step': '点击【提交】按钮',
                     'expected': '系统提示网络错误且未完成密码找回'},
                    {'case_ID': 'TP-077', 'function': '找回密码',
                     'testPoint': '验证点击【提交】按钮时服务器返回500错误，系统提示服务器错误且未完成密码找回',
                     'prerequisite': '用户进入找回密码页面，已输入符合要求的信息，服务器返回500错误',
                     'step': '点击【提交】按钮', 'expected': '系统提示服务器错误且未完成密码找回'},
                    {'case_ID': 'TP-078', 'function': '找回密码',
                     'testPoint': '验证点击【提交】按钮后，未完成请求前再次点击，按钮置灰不可点击',
                     'prerequisite': '用户进入找回密码页面，已输入符合要求的信息，点击【提交】按钮后未完成请求',
                     'step': '点击【提交】按钮后，再次点击', 'expected': '按钮置灰不可点击'},
                    {'case_ID': 'TP-079', 'function': '找回密码',
                     'testPoint': '验证新密码输入框输入包含特殊字符（如!@#$%^&*）的符合长度要求的密码时，校验通过',
                     'prerequisite': '已进入找回密码页面，新密码输入框存在',
                     'step': '1. 在找回密码页面的新密码输入框中输入包含特殊字符且符合长度要求的密码\n2. 检查新密码输入框的校验情况',
                     'expected': '新密码输入框校验通过'},
                    {'case_ID': 'TP-080', 'function': '找回密码',
                     'testPoint': '验证新密码输入框的明文查看按钮，鼠标按下后移动至按钮外松开，密码恢复为密文展示',
                     'prerequisite': '已进入找回密码页面，新密码输入框已输入密码',
                     'step': '1. 在新密码输入框中输入密码\n2. 按下新密码输入框的明文查看按钮并移动到按钮外松开',
                     'expected': '新密码输入框中的密码恢复为密文展示'},
                    {'case_ID': 'TP-081', 'function': '找回密码',
                     'testPoint': '验证确认密码输入框的明文查看按钮，鼠标按下后移动至按钮外松开，密码恢复为密文展示',
                     'prerequisite': '已进入找回密码页面，确认密码输入框已输入密码',
                     'step': '1. 在确认密码输入框中输入密码\n2. 按下确认密码输入框的明文查看按钮并移动到按钮外松开',
                     'expected': '确认密码输入框中的密码恢复为密文展示'},
                    {'case_ID': 'TP-082', 'function': '找回密码',
                     'testPoint': '验证验证码发送后刚好60秒时输入并点击【提交】，验证码有效',
                     'prerequisite': '已进入找回密码页面，验证码已发送且刚好60秒',
                     'step': '1. 在验证码输入框中输入刚好60秒时收到的验证码\n2. 点击【提交】按钮',
                     'expected': '验证码校验通过，提交操作成功'},
                    {'case_ID': 'TP-083', 'function': '找回密码',
                     'testPoint': '验证【获取验证码】按钮倒计时结束后再次点击，重新发送验证码并开始新的60秒倒计时',
                     'prerequisite': '已进入找回密码页面，【获取验证码】按钮倒计时结束',
                     'step': '1. 等待【获取验证码】按钮倒计时结束\n2. 再次点击【获取验证码】按钮',
                     'expected': '再次发送验证码并开始新的60秒倒计时'},
                    {'case_ID': 'TP-084', 'function': '修改密码',
                     'testPoint': '验证成功登录后在我的页面点击修改密码可进入修改密码页面',
                     'prerequisite': '用户已经成功登录账号并进入我的页面',
                     'step': '1. 打开我的页面\n2. 找到修改密码按钮并点击',
                     'expected': '成功进入修改密码页面'},
                    {'case_ID': 'TP-085', 'function': '修改密码',
                     'testPoint': '验证输入正确原密码、符合要求的新密码（与原密码不同）、确认密码（与新密码一致）和有效验证码时点击【提交】，提示修改成功',
                     'prerequisite': '用户已进入修改密码页面',
                     'step': '1. 输入正确原密码\n2. 输入符合要求的新密码（与原密码不同）\n3. 输入与新密码一致的确认密码\n4. 输入有效验证码\n5. 点击【提交】按钮',
                     'expected': '提示修改成功'},
                    {'case_ID': 'TP-086', 'function': '修改密码',
                     'testPoint': '验证原密码输入后显示明文查看按钮及清空按钮，鼠标按下明文查看按钮显示明文、松开恢复密文，点击清空按钮可清空已输入原密码',
                     'prerequisite': '进入修改密码页面且原密码输入框有内容',
                     'step': '1. 在原密码输入框输入内容\n2. 点击明文查看按钮\n3. 松开明文查看按钮\n4. 点击清空按钮',
                     'expected': '明文查看功能正常，清空按钮可清空已输入原密码'},
                    {'case_ID': 'TP-087', 'function': '修改密码',
                     'testPoint': '验证新密码输入后显示明文查看按钮及清空按钮，鼠标按下明文查看按钮显示明文、松开恢复密文，点击清空按钮可清空已输入新密码',
                     'prerequisite': '进入修改密码页面且新密码输入框有内容',
                     'step': '1. 在新密码输入框输入内容\n2. 点击明文查看按钮\n3. 松开明文查看按钮\n4. 点击清空按钮',
                     'expected': '明文查看功能正常，清空按钮可清空已输入新密码'},
                    {'case_ID': 'TP-088', 'function': '修改密码',
                     'testPoint': '验证确认密码输入后显示明文查看按钮及清空按钮，鼠标按下明文查看按钮显示明文、松开恢复密文，点击清空按钮可清空已输入确认密码',
                     'prerequisite': '进入修改密码页面且确认密码输入框有内容',
                     'step': '1. 在确认密码输入框输入内容\n2. 点击明文查看按钮\n3. 松开明文查看按钮\n4. 点击清空按钮',
                     'expected': '明文查看功能正常，清空按钮可清空已输入确认密码'},
                    {'case_ID': 'TP-089', 'function': '修改密码',
                     'testPoint': '验证点击【获取验证码】按钮向绑定手机号发送6位数字验证码，按钮显示60秒倒计时，倒计时结束后恢复原状',
                     'prerequisite': '进入修改密码页面',
                     'step': '1. 点击【获取验证码】按钮\n2. 观察按钮的倒计时变化及结束后的恢复情况',
                     'expected': '成功向绑定手机号发送6位数字验证码，按钮显示60秒倒计时且倒计时结束后恢复原状'},
                    {'case_ID': 'TP-090', 'function': '修改密码',
                     'testPoint': '验证输入框获取焦点时提示文字消失且边框变为绿色，失去焦点时恢复原状',
                     'prerequisite': '进入修改密码页面且有输入框', 'step': '1. 点击输入框获取焦点\n2. 离开输入框焦点',
                     'expected': '输入框获取焦点时提示文字消失且边框变为绿色，失去焦点时恢复原状'},
                    {'case_ID': 'TP-091', 'function': '修改密码',
                     'testPoint': '验证点击【取消】按钮可取消修改并返回我的页面', 'prerequisite': '进入修改密码页面',
                     'step': '点击【取消】按钮', 'expected': '成功取消修改并返回我的页面'},
                    {'case_ID': 'TP-092', 'function': '修改密码',
                     'testPoint': '验证原密码输入框输入空值时点击【提交】，对应输入框下方显示错误提示',
                     'prerequisite': '进入修改密码页面', 'step': '1. 在原密码输入框输入空值\n2. 点击【提交】按钮',
                     'expected': '原密码输入框下方显示错误提示'},
                    {'case_ID': 'TP-093', 'function': '修改密码',
                     'testPoint': '验证原密码输入框输入空格字符串时点击【提交】，对应输入框下方显示错误提示',
                     'prerequisite': '进入修改密码页面',
                     'step': '1. 在原密码输入框输入空格字符串\n2. 点击【提交】按钮',
                     'expected': '原密码输入框下方显示错误提示'},
                    {'case_ID': 'TP-094', 'function': '修改密码',
                     'testPoint': '验证原密码输入框输入超长字符时点击【提交】，对应输入框下方显示错误提示',
                     'prerequisite': '进入修改密码页面', 'step': '1. 在原密码输入框输入超长字符\n2. 点击【提交】按钮',
                     'expected': '原密码输入框下方显示错误提示'},
                    {'case_ID': 'TP-095', 'function': '修改密码',
                     'testPoint': '验证原密码输入框输入刚好等于系统规定的最小长度的字符时，校验通过',
                     'prerequisite': '进入修改密码页面',
                     'step': '1. 在原密码输入框输入刚好等于系统规定最小长度的字符\n2. 点击【提交】按钮',
                     'expected': '校验通过'},
                    {'case_ID': 'TP-096', 'function': '修改密码',
                     'testPoint': '验证输入错误原密码、正确新密码、确认密码和验证码时点击【提交】，原密码输入框下方显示错误提示',
                     'prerequisite': '进入修改密码页面',
                     'step': '1. 输入错误原密码\n2. 输入正确新密码\n3. 输入与新密码一致的确认密码\n4. 输入有效验证码\n5. 点击【提交】按钮',
                     'expected': '原密码输入框下方显示错误提示'},
                    {'case_ID': 'TP-097', 'function': '修改密码',
                     'testPoint': '验证新密码输入框输入空值时点击【提交】，对应输入框下方显示错误提示',
                     'prerequisite': '进入修改密码页面',
                     'step': '1. 在新密码输入框输入空值\n2. 点击【提交】按钮',
                     'expected': '新密码输入框下方显示错误提示'},
                    {'case_ID': 'TP-098', 'function': '修改密码',
                     'testPoint': '验证新密码输入框输入空格字符串时点击【提交】，对应输入框下方显示错误提示',
                     'prerequisite': '进入修改密码页面', 'step': '1. 在新密码输入框输入空格字符串\n2. 点击【提交】按钮',
                     'expected': '新密码输入框下方显示错误提示'},
                    {'case_ID': 'TP-099', 'function': '修改密码',
                     'testPoint': '验证新密码输入框输入超长字符时点击【提交】，对应输入框下方显示错误提示',
                     'prerequisite': '进入修改密码页面',
                     'step': '1. 在新密码输入框输入超长字符\n2. 点击【提交】按钮',
                     'expected': '新密码输入框下方显示错误提示'},
                    {'case_ID': 'TP-100', 'function': '修改密码',
                     'testPoint': '验证新密码输入框输入刚好等于系统规定的最小长度的字符时，校验通过',
                     'prerequisite': '进入修改密码页面',
                     'step': '1. 在新密码输入框输入刚好等于系统规定最小长度的字符\n2. 点击【提交】按钮',
                     'expected': '校验通过'},
                    {'case_ID': 'TP-101', 'function': '修改密码',
                     'testPoint': '验证确认密码与新密码不一致时点击【提交】，确认密码输入框下方显示错误提示',
                     'prerequisite': '进入修改密码页面',
                     'step': '1. 输入新密码\n2. 输入与新密码不一致的确认密码\n3. 点击【提交】按钮',
                     'expected': '确认密码输入框下方显示错误提示'},
                    {'case_ID': 'TP-102', 'function': '修改密码',
                     'testPoint': '验证新密码与原密码相同时点击【提交】，新密码输入框下方显示错误提示',
                     'prerequisite': '进入修改密码页面', 'step': '1. 输入与原密码相同的新密码\n2. 点击【提交】按钮',
                     'expected': '新密码输入框下方显示错误提示'},
                    {'case_ID': 'TP-103', 'function': '修改密码',
                     'testPoint': '验证验证码输入3位数字时点击【提交】，对应输入框下方显示错误提示',
                     'prerequisite': '进入修改密码页面',
                     'step': '1. 在验证码输入框输入3位数字\n2. 点击【提交】按钮',
                     'expected': '验证码输入框下方显示错误提示'},
                    {'case_ID': 'TP-104', 'function': '修改密码',
                     'testPoint': '验证验证码输入5位数字时点击【提交】，对应输入框下方显示错误提示',
                     'prerequisite': '用户已进入修改密码页面，验证码输入框有内容',
                     'step': '1. 在修改密码页面的验证码输入框中输入5位数字\n2. 点击【提交】按钮',
                     'expected': '验证码输入框下方显示错误提示文字'},
                    {'case_ID': 'TP-105', 'function': '修改密码',
                     'testPoint': '验证验证码发送后超过60秒输入并点击【提交】，显示验证码过期错误提示',
                     'prerequisite': '用户已发送过验证码，且已超过60秒',
                     'step': '1. 等待验证码发送后超过60秒\n2. 在验证码输入框输入内容\n3. 点击【提交】按钮',
                     'expected': '验证码输入框下方显示验证码过期的错误提示'},
                    {'case_ID': 'TP-106', 'function': '修改密码',
                     'testPoint': '验证在60秒倒计时内多次点击【获取验证码】按钮，仅发送一次验证码且倒计时不重置',
                     'prerequisite': '用户进入修改密码页面，验证码未发送',
                     'step': '1. 点击【获取验证码】按钮，开始60秒倒计时\n2. 在倒计时内多次点击【获取验证码】按钮',
                     'expected': '仅发送一次验证码，且倒计时未重置'},
                    {'case_ID': 'TP-107', 'function': '修改密码',
                     'testPoint': '验证点击【获取验证码】按钮时网络中断，系统提示网络错误且按钮未进入倒计时',
                     'prerequisite': '用户进入修改密码页面，网络中断状态',
                     'step': '1. 点击【获取验证码】按钮\n2. 观察系统提示和按钮状态',
                     'expected': '系统提示网络错误，且按钮未进入倒计时'},
                    {'case_ID': 'TP-108', 'function': '修改密码',
                     'testPoint': '验证点击【提交】按钮时网络中断，系统提示网络错误且未完成密码修改',
                     'prerequisite': '用户已填写相关信息，网络中断状态',
                     'step': '1. 点击【提交】按钮\n2. 观察系统提示和密码修改状态',
                     'expected': '系统提示网络错误，且未完成密码修改'},
                    {'case_ID': 'TP-109', 'function': '修改密码',
                     'testPoint': '验证点击【提交】按钮时服务器返回500错误，系统提示服务器错误且未完成密码修改',
                     'prerequisite': '用户已填写相关信息，服务器返回500错误环境',
                     'step': '1. 点击【提交】按钮\n2. 观察系统提示和密码修改状态',
                     'expected': '系统提示服务器错误，且未完成密码修改'},
                    {'case_ID': 'TP-110', 'function': '修改密码',
                     'testPoint': '验证点击【提交】按钮后，未完成请求前再次点击，按钮置灰不可点击',
                     'prerequisite': '用户已点击【提交】按钮，请求未完成',
                     'step': '1. 点击【提交】按钮\n2. 在未完成请求前再次点击【提交】按钮', 'expected': '按钮置灰不可点击'},
                    {'case_ID': 'TP-111', 'function': '修改密码',
                     'testPoint': '验证原密码输入框输入包含特殊字符（如!@#$%^&*）的正确密码时，校验通过',
                     'prerequisite': '用户进入修改密码页面，原密码输入框可用',
                     'step': '1. 在原密码输入框中输入包含特殊字符的正确密码\n2. 检查校验结果', 'expected': '校验通过'},
                    {'case_ID': 'TP-112', 'function': '修改密码',
                     'testPoint': '验证新密码输入框输入包含特殊字符（如!@#$%^&*）的符合长度要求的密码时，校验通过',
                     'prerequisite': '用户进入修改密码页面，新密码输入框可用',
                     'step': '1. 在新密码输入框中输入包含特殊字符且符合长度要求的密码\n2. 检查校验结果',
                     'expected': '校验通过'},
                    {'case_ID': 'TP-113', 'function': '修改密码',
                     'testPoint': '验证原密码输入框的明文查看按钮，鼠标按下后移动至按钮外松开，密码恢复为密文展示',
                     'prerequisite': '用户进入修改密码页面，原密码输入框有密码输入',
                     'step': '1. 在原密码输入框输入密码\n2. 鼠标按下明文查看按钮，然后移动至按钮外松开',
                     'expected': '密码恢复为密文展示'},
                    {'case_ID': 'TP-114', 'function': '修改密码',
                     'testPoint': '验证新密码输入框的明文查看按钮，鼠标按下后移动至按钮外松开，密码恢复为密文展示',
                     'prerequisite': '用户进入修改密码页面，新密码输入框有密码输入',
                     'step': '1. 在新密码输入框输入密码\n2. 鼠标按下明文查看按钮，然后移动至按钮外松开',
                     'expected': '密码恢复为密文展示'},
                    {'case_ID': 'TP-115', 'function': '修改密码',
                     'testPoint': '验证确认密码输入框的明文查看按钮，鼠标按下后移动至按钮外松开，密码恢复为密文展示',
                     'prerequisite': '用户进入修改密码页面，确认密码输入框有密码输入',
                     'step': '1. 在确认密码输入框输入密码\n2. 鼠标按下明文查看按钮，然后移动至按钮外松开',
                     'expected': '密码恢复为密文展示'},
                    {'case_ID': 'TP-116', 'function': '修改密码',
                     'testPoint': '验证验证码发送后刚好60秒时输入并点击【提交】，验证码有效',
                     'prerequisite': '用户发送验证码后等待刚好60秒',
                     'step': '1. 等待验证码发送后刚好60秒\n2. 在验证码输入框输入内容\n3. 点击【提交】按钮',
                     'expected': '验证码校验通过'},
                    {'case_ID': 'TP-117', 'function': '修改密码',
                     'testPoint': '验证【获取验证码】按钮倒计时结束后再次点击，重新发送验证码并开始新的60秒倒计时',
                     'prerequisite': '用户点击【获取验证码】按钮，倒计时结束',
                     'step': '1. 等待【获取验证码】按钮倒计时结束\n2. 再次点击【获取验证码】按钮',
                     'expected': '重新发送验证码并开始新的60秒倒计时'},
                    {'case_ID': 'TP-118', 'function': '修改密码',
                     'testPoint': '验证未登录用户直接访问修改密码页面，系统跳转至登录页面或提示无权限',
                     'prerequisite': '用户未登录状态，尝试访问修改密码页面',
                     'step': '1. 直接访问修改密码页面\n2. 观察页面跳转或提示',
                     'expected': '系统跳转至登录页面或提示无权限'}]

text = """
5.1 功能概述
5.1.1 业务流程图
5.1.2 功能架构
5.2 功能说明
5.2.1 账号登录
5.2.1.1 业务流程
用户打开登录网址进入登录页面；
输入登录账号、密码、验证码进行登录；
5.2.1.2 页面原型
5.2.1.3 逻辑说明
账号输入框：输入账号后显示清空操作按钮，点击清空按钮清空已输入的账号；
密码输入框：输入密码后显示密码明文查看按钮及清空按钮，鼠标按下明文查看按钮密码明文展示，鼠标松开后密文展示，点击清空按钮清空已输入密码；
验证码：验证码为4位随机的大写英文字母，单击验证码展示区域刷新验证码，验证码有效期为60秒；
所有输入框获取焦点时提示文字消失且边框变为绿色，失去焦点时恢复原状；
【登录】按钮：点击【登录】按钮时依次校验登录账号、密码、验证码，若某一项校验出问题则在对应输入框下方红字提醒用户错误原因，全部校验通过则成功登录并进入系统首页；
【找回密码】按钮：点击【找回密码】按钮跳转至找回密码页面；
账号首次成功登录时弹窗提示账号首次登录时需修改初始密码，点击【确定】按钮跳转至修改初始密码页面，初始密码修改后需要重新输入账号、密码、验证码进行登录；
5.2.2 重置初始密码
5.2.2.1 业务流程
用户初次成功登录账号后弹窗提示用户修改初始密码；
点击弹窗的【确定】按钮后页面跳转至重置初始密码页面；
5.2.2.2 页面原型
5.2.2.3 业务逻辑
新密码输入框：输入密码后显示密码明文查看按钮及清空按钮，鼠标按下明文查看按钮密码明文展示，鼠标松开后密文展示，点击清空按钮清空已输入密码；
确认密码：输入密码后显示密码明文查看按钮及清空按钮，鼠标按下明文查看按钮密码明文展示，鼠标松开后密文展示，点击清空按钮清空已输入密码；
验证码：点击【获取验证码】按钮向登录账号绑定手机号发送6位随机数字验证码，验证码已发送后【获取验证码】按钮展示60秒倒计时，倒计时结束后恢复原状，验证码有效期为60秒；
所有输入框获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状；
【取消】按钮：点击【取消】按钮取消修改初始密码，返回至登录页面；
【提交】按钮：点击【提交】按钮依次校验密码、验证码，若某一项校验出问题则在对应输入框下方红字提醒用户错误原因，全部校验通过则提示重置密码成功，然后返回至登录页面；
5.2.3 找回密码
5.2.3.1 业务流程
用户打开登录网址进入登录页面；
忘记登录密码后在登录页面页面点击【找回密码】按钮进入找回密码页面；
5.2.3.2 页面原型
5.2.3.3 业务逻辑
新密码输入框：输入密码后显示密码明文查看按钮及清空按钮，鼠标按下明文查看按钮密码明文展示，鼠标松开后密文展示，点击清空按钮清空已输入密码；
确认密码：输入密码后显示密码明文查看按钮及清空按钮，鼠标按下明文查看按钮密码明文展示，鼠标松开后密文展示，点击清空按钮清空已输入密码；
验证码：点击【获取验证码】按钮向登录账号绑定手机号发送6位随机数字验证码，验证码已发送后【获取验证码】按钮展示60秒倒计时，倒计时结束后恢复原状，验证码有效期为60秒；
所有输入框获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状；
【取消】按钮：点击【取消】按钮取消修改初始密码，返回至登录页面；
【提交】按钮：点击【提交】按钮依次校验密码、验证码，若某一项校验出问题则在对应输入框下方红字提醒用户错误原因，全部校验通过则提示重置密码成功，然后返回至登录页面；
5.2.4 修改密码
5.2.4.1 业务流程
用户成功登录账号；
在我的页面选择修改密码进入修改密码页面；
5.2.4.2 页面原型
5.2.4.3 业务逻辑
原密码输入框：输入密码后显示密码明文查看按钮及清空按钮，鼠标按下明文查看按钮密码明文展示，鼠标松开后密文展示，点击清空按钮清空已输入密码；
新密码输入框：输入密码后显示密码明文查看按钮及清空按钮，鼠标按下明文查看按钮密码明文展示，鼠标松开后密文展示，点击清空按钮清空已输入密码；
确认密码：输入密码后显示密码明文查看按钮及清空按钮，鼠标按下明文查看按钮密码明文展示，鼠标松开后密文展示，点击清空按钮清空已输入密码；
验证码：点击【获取验证码】按钮向登录账号绑定手机号发送6位随机数字验证码，验证码已发送后【获取验证码】按钮展示60秒倒计时，倒计时结束后恢复原状，验证码有效期为60秒；
所有输入框获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状；
【取消】按钮：点击【取消】按钮取消修改密码，返回至我的页面；
【提交】按钮：点击【提交】按钮依次校验密码、验证码，若某一项校验出问题则在对应输入框下方红字提醒用户错误原因，全部校验通过则提示重置密码成功；
"""


async def main():
    sta = state.create_default_state()
    sta["prd_content"] = text
    sta["detected_test_point_dict"] = detector_result
    sta["generated_cases"] = generator_result
    llm, embeddings = initialize_llm("Volcengine", "doubao-Seed-1.6", "doubao-embedding")
    evaluation = await evaluator.single_evaluator_agent_node(sta, llm, embeddings)
    print(evaluation)
    # evaluator.total_evaluator_agent_node(sta, llm)

if __name__ == "__main__":
    asyncio.run(main())
