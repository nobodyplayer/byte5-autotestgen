import agent.evaluator as evaluator
import agent.reconstructor as reconstructor
import agent.generator as generator
import models.state as state
import utils.llm_initial_util as llm_initial

test_point = [
    {"case_ID": "1", "function": "账号登录", "testPoint": "输入正确的账号、密码、验证码，点击【登录】按钮，成功登录并进入系统首页"},
    {"case_ID": "2", "function": "账号登录", "testPoint": "输入账号后，点击账号输入框的清空按钮，账号输入框内容被清空"},
    {"case_ID": "3", "function": "账号登录", "testPoint": "输入密码后，点击密码输入框的清空按钮，密码输入框内容被清空"},
    {"case_ID": "4", "function": "账号登录", "testPoint": "鼠标按下密码输入框的明文查看按钮，密码明文展示，鼠标松开后密文展示"},
    {"case_ID": "5", "function": "账号登录", "testPoint": "单击验证码展示区域，验证码刷新"},
    {"case_ID": "6", "function": "账号登录", "testPoint": "验证码超过60秒有效期，提示验证码过期"},
    {"case_ID": "7", "function": "账号登录", "testPoint": "账号输入框获取焦点时提示文字消失且边框变为绿色，失去焦点时恢复原状"},
    {"case_ID": "8", "function": "账号登录", "testPoint": "密码输入框获取焦点时提示文字消失且边框变为绿色，失去焦点时恢复原状"},
    {"case_ID": "9", "function": "账号登录", "testPoint": "验证码输入框获取焦点时提示文字消失且边框变为绿色，失去焦点时恢复原状"},
    {"case_ID": "10", "function": "账号登录", "testPoint": "点击【登录】按钮，账号校验不通过，在账号输入框下方红字提醒用户错误原因"},
    {"case_ID": "11", "function": "账号登录", "testPoint": "点击【登录】按钮，密码校验不通过，在密码输入框下方红字提醒用户错误原因"},
    {"case_ID": "12", "function": "账号登录", "testPoint": "点击【登录】按钮，验证码校验不通过，在验证码输入框下方红字提醒用户错误原因"},
    {"case_ID": "13", "function": "账号登录", "testPoint": "点击【找回密码】按钮，跳转至找回密码页面"},
    {"case_ID": "14", "function": "账号登录", "testPoint": "账号首次成功登录时，弹窗提示账号首次登录时需修改初始密码，点击【确定】按钮跳转至修改初始密码页面"},
    {"case_ID": "15", "function": "账号登录", "testPoint": "初始密码修改后，重新输入账号、密码、验证码进行登录"},
    {"case_ID": "16", "function": "重置初始密码", "testPoint": "用户初次成功登录账号后，弹窗提示用户修改初始密码，点击弹窗的【确定】按钮后页面跳转至重置初始密码页面"},
    {"case_ID": "17", "function": "重置初始密码", "testPoint": "输入新密码后，点击新密码输入框的清空按钮，新密码输入框内容被清空"},
    {"case_ID": "18", "function": "重置初始密码", "testPoint": "鼠标按下新密码输入框的明文查看按钮，密码明文展示，鼠标松开后密文展示"},
    {"case_ID": "19", "function": "重置初始密码", "testPoint": "输入确认密码后，点击确认密码输入框的清空按钮，确认密码输入框内容被清空"},
    {"case_ID": "20", "function": "重置初始密码", "testPoint": "鼠标按下确认密码输入框的明文查看按钮，密码明文展示，鼠标松开后密文展示"},
    {"case_ID": "21", "function": "重置初始密码", "testPoint": "点击【获取验证码】按钮，向登录账号绑定手机号发送6位随机数字验证码"},
    {"case_ID": "22", "function": "重置初始密码", "testPoint": "验证码已发送后，【获取验证码】按钮展示60秒倒计时，倒计时结束后恢复原状"},
    {"case_ID": "23", "function": "重置初始密码", "testPoint": "验证码超过60秒有效期，提示验证码过期"},
    {"case_ID": "24", "function": "重置初始密码", "testPoint": "新密码输入框获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状"},
    {"case_ID": "25", "function": "重置初始密码", "testPoint": "确认密码输入框获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状"},
    {"case_ID": "26", "function": "重置初始密码", "testPoint": "验证码输入框获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状"},
    {"case_ID": "27", "function": "重置初始密码", "testPoint": "点击【取消】按钮，取消修改初始密码，返回至登录页面"},
    {"case_ID": "28", "function": "重置初始密码", "testPoint": "点击【提交】按钮，密码校验不通过，在新密码输入框下方红字提醒用户错误原因"},
    {"case_ID": "29", "function": "重置初始密码", "testPoint": "点击【提交】按钮，确认密码校验不通过，在确认密码输入框下方红字提醒用户错误原因"},
    {"case_ID": "30", "function": "重置初始密码", "testPoint": "点击【提交】按钮，验证码校验不通过，在验证码输入框下方红字提醒用户错误原因"},
    {"case_ID": "31", "function": "重置初始密码", "testPoint": "点击【提交】按钮，全部校验通过，提示重置密码成功，然后返回至登录页面"},
    {"case_ID": "32", "function": "找回密码", "testPoint": "用户打开登录网址进入登录页面，忘记登录密码后在登录页面点击【找回密码】按钮进入找回密码页面"},
    {"case_ID": "33", "function": "找回密码", "testPoint": "输入新密码后，点击新密码输入框的清空按钮，新密码输入框内容被清空"},
    {"case_ID": "34", "function": "找回密码", "testPoint": "鼠标按下新密码输入框的明文查看按钮，密码明文展示，鼠标松开后密文展示"},
    {"case_ID": "35", "function": "找回密码", "testPoint": "输入确认密码后，点击确认密码输入框的清空按钮，确认密码输入框内容被清空"},
    {"case_ID": "36", "function": "找回密码", "testPoint": "鼠标按下确认密码输入框的明文查看按钮，密码明文展示，鼠标松开后密文展示"},
    {"case_ID": "37", "function": "找回密码", "testPoint": "点击【获取验证码】按钮，向登录账号绑定手机号发送6位随机数字验证码"},
    {"case_ID": "38", "function": "找回密码", "testPoint": "验证码已发送后，【获取验证码】按钮展示60秒倒计时，倒计时结束后恢复原状"},
    {"case_ID": "39", "function": "找回密码", "testPoint": "验证码超过60秒有效期，提示验证码过期"},
    {"case_ID": "40", "function": "找回密码", "testPoint": "新密码输入框获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状"},
    {"case_ID": "41", "function": "找回密码", "testPoint": "确认密码输入框获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状"},
    {"case_ID": "42", "function": "找回密码", "testPoint": "验证码输入框获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状"},
    {"case_ID": "43", "function": "找回密码", "testPoint": "点击【取消】按钮，取消修改初始密码，返回至登录页面"},
    {"case_ID": "44", "function": "找回密码", "testPoint": "点击【提交】按钮，密码校验不通过，在新密码输入框下方红字提醒用户错误原因"},
    {"case_ID": "45", "function": "找回密码", "testPoint": "点击【提交】按钮，确认密码校验不通过，在确认密码输入框下方红字提醒用户错误原因"},
    {"case_ID": "46", "function": "找回密码", "testPoint": "点击【提交】按钮，验证码校验不通过，在验证码输入框下方红字提醒用户错误原因"},
    {"case_ID": "47", "function": "找回密码", "testPoint": "点击【提交】按钮，全部校验通过，提示重置密码成功，然后返回至登录页面"},
    {"case_ID": "48", "function": "修改密码", "testPoint": "用户成功登录账号，在我的页面选择修改密码进入修改密码页面"},
    {"case_ID": "49", "function": "修改密码", "testPoint": "输入原密码后，点击原密码输入框的清空按钮，原密码输入框内容被清空"},
    {"case_ID": "50", "function": "修改密码", "testPoint": "鼠标按下原密码输入框的明文查看按钮，密码明文展示，鼠标松开后密文展示"},
    {"case_ID": "51", "function": "修改密码", "testPoint": "输入新密码后，点击新密码输入框的清空按钮，新密码输入框内容被清空"},
    {"case_ID": "52", "function": "修改密码", "testPoint": "鼠标按下新密码输入框的明文查看按钮，密码明文展示，鼠标松开后密文展示"},
    {"case_ID": "53", "function": "修改密码", "testPoint": "输入确认密码后，点击确认密码输入框的清空按钮，确认密码输入框内容被清空"},
    {"case_ID": "54", "function": "修改密码", "testPoint": "鼠标按下确认密码输入框的明文查看按钮，密码明文展示，鼠标松开后密文展示"},
    {"case_ID": "55", "function": "修改密码", "testPoint": "点击【获取验证码】按钮，向登录账号绑定手机号发送6位随机数字验证码"},
    {"case_ID": "56", "function": "修改密码", "testPoint": "验证码已发送后，【获取验证码】按钮展示60秒倒计时，倒计时结束后恢复原状"},
    {"case_ID": "57", "function": "修改密码", "testPoint": "验证码超过60秒有效期，提示验证码过期"},
    {"case_ID": "58", "function": "修改密码", "testPoint": "原密码输入框获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状"},
    {"case_ID": "59", "function": "修改密码", "testPoint": "新密码输入框获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状"},
    {"case_ID": "60", "function": "修改密码", "testPoint": "确认密码输入框获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状"},
    {"case_ID": "61", "function": "修改密码", "testPoint": "验证码输入框获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状"},
    {"case_ID": "62", "function": "修改密码", "testPoint": "点击【取消】按钮，取消修改密码，返回至我的页面"},
    {"case_ID": "63", "function": "修改密码", "testPoint": "点击【提交】按钮，原密码校验不通过，在原密码输入框下方红字提醒用户错误原因"},
    {"case_ID": "64", "function": "修改密码", "testPoint": "点击【提交】按钮，新密码校验不通过，在新密码输入框下方红字提醒用户错误原因"},
    {"case_ID": "65", "function": "修改密码", "testPoint": "点击【提交】按钮，确认密码校验不通过，在确认密码输入框下方红字提醒用户错误原因"},
    {"case_ID": "66", "function": "修改密码", "testPoint": "点击【提交】按钮，验证码校验不通过，在验证码输入框下方红字提醒用户错误原因"},
    {"case_ID": "67", "function": "修改密码", "testPoint": "点击【提交】按钮，全部校验通过，提示重置密码成功"},
    {"case_ID": "68", "function": "账号登录", "testPoint": "账号输入框输入超长文本"},
    {"case_ID": "69", "function": "账号登录", "testPoint": "账号输入框输入特殊字符"},
    {"case_ID": "70", "function": "账号登录", "testPoint": "账号输入框输入空字符串"},
    {"case_ID": "71", "function": "账号登录", "testPoint": "密码输入框输入超长文本"},
    {"case_ID": "72", "function": "账号登录", "testPoint": "密码输入框输入特殊字符"},
    {"case_ID": "73", "function": "账号登录", "testPoint": "密码输入框输入空字符串"},
    {"case_ID": "74", "function": "账号登录", "testPoint": "网络中断时，点击【登录】按钮，提示网络连接失败"},
    {"case_ID": "75", "function": "账号登录", "testPoint": "服务器返回500错误时，点击【登录】按钮，提示服务器错误"},
    {"case_ID": "76", "function": "重置初始密码", "testPoint": "新密码输入框输入超长文本"},
    {"case_ID": "77", "function": "重置初始密码", "testPoint": "新密码输入框输入特殊字符"},
    {"case_ID": "78", "function": "重置初始密码", "testPoint": "新密码输入框输入空字符串"},
    {"case_ID": "79", "function": "重置初始密码", "testPoint": "确认密码输入框输入超长文本"},
    {"case_ID": "80", "function": "重置初始密码", "testPoint": "确认密码输入框输入特殊字符"},
    {"case_ID": "81", "function": "重置初始密码", "testPoint": "确认密码输入框输入空字符串"},
    {"case_ID": "82", "function": "重置初始密码", "testPoint": "网络中断时，点击【提交】按钮，提示网络连接失败"},
    {"case_ID": "83", "function": "重置初始密码", "testPoint": "服务器返回500错误时，点击【提交】按钮，提示服务器错误"},
    {"case_ID": "84", "function": "找回密码", "testPoint": "新密码输入框输入超长文本"},
    {"case_ID": "85", "function": "找回密码", "testPoint": "新密码输入框输入特殊字符"},
    {"case_ID": "86", "function": "找回密码", "testPoint": "新密码输入框输入空字符串"},
    {"case_ID": "87", "function": "找回密码", "testPoint": "确认密码输入框输入超长文本"},
    {"case_ID": "88", "function": "找回密码", "testPoint": "确认密码输入框输入特殊字符"},
    {"case_ID": "89", "function": "找回密码", "testPoint": "确认密码输入框输入空字符串"},
    {"case_ID": "90", "function": "找回密码", "testPoint": "网络中断时，点击【提交】按钮，提示网络连接失败"},
    {"case_ID": "91", "function": "找回密码", "testPoint": "服务器返回500错误时，点击【提交】按钮，提示服务器错误"},
    {"case_ID": "92", "function": "修改密码", "testPoint": "原密码输入框输入超长文本"},
    {"case_ID": "93", "function": "修改密码", "testPoint": "原密码输入框输入特殊字符"},
    {"case_ID": "94", "function": "修改密码", "testPoint": "原密码输入框输入空字符串"},
    {"case_ID": "95", "function": "修改密码", "testPoint": "新密码输入框输入超长文本"},
    {"case_ID": "96", "function": "修改密码", "testPoint": "新密码输入框输入特殊字符"},
    {"case_ID": "97", "function": "修改密码", "testPoint": "新密码输入框输入空字符串"},
    {"case_ID": "98", "function": "修改密码", "testPoint": "确认密码输入框输入超长文本"},
    {"case_ID": "99", "function": "修改密码", "testPoint": "确认密码输入框输入特殊字符"},
    {"case_ID": "100", "function": "修改密码", "testPoint": "确认密码输入框输入空字符串"},
    {"case_ID": "101", "function": "修改密码", "testPoint": "网络中断时，点击【提交】按钮，提示网络连接失败"},
    {"case_ID": "102", "function": "修改密码", "testPoint": "服务器返回500错误时，点击【提交】按钮，提示服务器错误"}
]

text = """
5.1 功能概述
5.1.1 业务流程图
5.1.2 功能架构
5.2 功能说明
5.2.1 账号登录
5.2.1.1 业务流程
用户打开登录网址进入登录页面；
输入登录账号、密码、验证码进行登录；
5.2.1.2 页面原型
5.2.1.3 逻辑说明
账号输入框：输入账号后显示清空操作按钮，点击清空按钮清空已输入的账号；
密码输入框：输入密码后显示密码明文查看按钮及清空按钮，鼠标按下明文查看按钮密码明文展示，鼠标松开后密文展示，点击清空按钮清空已输入密码；
验证码：验证码为4位随机的大写英文字母，单击验证码展示区域刷新验证码，验证码有效期为60秒；
所有输入框获取焦点时提示文字消失且边框变为绿色，失去焦点时恢复原状；
【登录】按钮：点击【登录】按钮时依次校验登录账号、密码、验证码，若某一项校验出问题则在对应输入框下方红字提醒用户错误原因，全部校验通过则成功登录并进入系统首页；
【找回密码】按钮：点击【找回密码】按钮跳转至找回密码页面；
账号首次成功登录时弹窗提示账号首次登录时需修改初始密码，点击【确定】按钮跳转至修改初始密码页面，初始密码修改后需要重新输入账号、密码、验证码进行登录；
5.2.2 重置初始密码
5.2.2.1 业务流程
用户初次成功登录账号后弹窗提示用户修改初始密码；
点击弹窗的【确定】按钮后页面跳转至重置初始密码页面；
5.2.2.2 页面原型
5.2.2.3 业务逻辑
新密码输入框：输入密码后显示密码明文查看按钮及清空按钮，鼠标按下明文查看按钮密码明文展示，鼠标松开后密文展示，点击清空按钮清空已输入密码；
确认密码：输入密码后显示密码明文查看按钮及清空按钮，鼠标按下明文查看按钮密码明文展示，鼠标松开后密文展示，点击清空按钮清空已输入密码；
验证码：点击【获取验证码】按钮向登录账号绑定手机号发送6位随机数字验证码，验证码已发送后【获取验证码】按钮展示60秒倒计时，倒计时结束后恢复原状，验证码有效期为60秒；
所有输入框获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状；
【取消】按钮：点击【取消】按钮取消修改初始密码，返回至登录页面；
【提交】按钮：点击【提交】按钮依次校验密码、验证码，若某一项校验出问题则在对应输入框下方红字提醒用户错误原因，全部校验通过则提示重置密码成功，然后返回至登录页面；
5.2.3 找回密码
5.2.3.1 业务流程
用户打开登录网址进入登录页面；
忘记登录密码后在登录页面页面点击【找回密码】按钮进入找回密码页面；
5.2.3.2 页面原型
5.2.3.3 业务逻辑
新密码输入框：输入密码后显示密码明文查看按钮及清空按钮，鼠标按下明文查看按钮密码明文展示，鼠标松开后密文展示，点击清空按钮清空已输入密码；
确认密码：输入密码后显示密码明文查看按钮及清空按钮，鼠标按下明文查看按钮密码明文展示，鼠标松开后密文展示，点击清空按钮清空已输入密码；
验证码：点击【获取验证码】按钮向登录账号绑定手机号发送6位随机数字验证码，验证码已发送后【获取验证码】按钮展示60秒倒计时，倒计时结束后恢复原状，验证码有效期为60秒；
所有输入框获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状；
【取消】按钮：点击【取消】按钮取消修改初始密码，返回至登录页面；
【提交】按钮：点击【提交】按钮依次校验密码、验证码，若某一项校验出问题则在对应输入框下方红字提醒用户错误原因，全部校验通过则提示重置密码成功，然后返回至登录页面；
5.2.4 修改密码
5.2.4.1 业务流程
用户成功登录账号；
在我的页面选择修改密码进入修改密码页面；
5.2.4.2 页面原型
5.2.4.3 业务逻辑
原密码输入框：输入密码后显示密码明文查看按钮及清空按钮，鼠标按下明文查看按钮密码明文展示，鼠标松开后密文展示，点击清空按钮清空已输入密码；
新密码输入框：输入密码后显示密码明文查看按钮及清空按钮，鼠标按下明文查看按钮密码明文展示，鼠标松开后密文展示，点击清空按钮清空已输入密码；
确认密码：输入密码后显示密码明文查看按钮及清空按钮，鼠标按下明文查看按钮密码明文展示，鼠标松开后密文展示，点击清空按钮清空已输入密码；
验证码：点击【获取验证码】按钮向登录账号绑定手机号发送6位随机数字验证码，验证码已发送后【获取验证码】按钮展示60秒倒计时，倒计时结束后恢复原状，验证码有效期为60秒；
所有输入框获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状；
【取消】按钮：点击【取消】按钮取消修改密码，返回至我的页面；
【提交】按钮：点击【提交】按钮依次校验密码、验证码，若某一项校验出问题则在对应输入框下方红字提醒用户错误原因，全部校验通过则提示重置密码成功；
"""

generated_case = [{'case_ID': '1', 'function': '账号登录', 'testpoint': '输入正确的账号、密码、验证码，点击【登录】按钮，成功登录并进入系统首页', 'prerequisite': '用户已注册且账号未被锁定，验证码在有效期内', 'step': '1. 打开登录网址进入登录页面\n2. 在账号输入框输入正确账号\n3. 在密码输入框输入正确密码\n4. 在验证码输入框输入正确验证码\n5. 点击【登录】按钮', 'expected': '成功登录并进入系统首页'}, {'case_ID': '2', 'function': '账号登录', 'testpoint': '输入账号后，点击账号输入框的清空按钮，账号输入框内容被清空', 'prerequisite': '已在账号输入框输入内容', 'step': '1. 打开登录网址进入登录页面\n2. 在账号输入框输入任意内容\n3. 点击账号输入框的清空按钮', 'expected': '账号输入框内容被清空'}, {'case_ID': '3', 'function': '账号登录', 'testpoint': '输入密码后，点击密码输入框的清空按钮，密码输入框内容被清空', 'prerequisite': '已在密码输入框输入内容', 'step': '1. 打开登录网址进入登录页面\n2. 在密码输入框输入任意内容\n3. 点击密码输入框的清空按钮', 'expected': '密码输入框内容被清空'}, {'case_ID': '4', 'function': '账号登录', 'testpoint': '鼠标按下密码输入框的明文查看按钮，密码明文展示，鼠标松开后密文展示', 'prerequisite': '已在密码输入框输入内容', 'step': '1. 打开登录网址进入登录页面\n2. 在密码输入框输入任意内容\n3. 鼠标按下密码输入框的明文查看按钮\n4. 鼠标松开密码输入框的明文查看按钮', 'expected': '鼠标按下时密码明文展示，松开后密文展示'}, {'case_ID': '5', 'function': '账号登录', 'testpoint': '单击验证码展示区域，验证码刷新', 'prerequisite': '无', 'step': '1. 打开登录网址进入登录页面\n2. 单击验证码展示区域', 'expected': '验证码刷新'}, {'case_ID': '6', 'function': '账号登录', 'testpoint': '验证码超过60秒有效期，提示验证码过期', 'prerequisite': '验证码已超过60秒未使用', 'step': '1. 打开登录网址进入登录页面\n2. 等待验证码超过60秒有效期\n3. 尝试输入验证码并点击【登录】按钮', 'expected': '提示验证码过期'}, {'case_ID': '7', 'function': '账号登录', 'testpoint': '账号输入框获取焦点时提示文字消失且边框变为绿色，失去焦点时恢复原状', 'prerequisite': '无', 'step': '1. 打开登录网址进入登录页面\n2. 鼠标点击账号输入框（获取焦点）\n3. 鼠标点击其他区域（失去焦点）', 'expected': '获取焦点时提示文字消失且边框变为绿色，失去焦点时恢复原状'}, {'case_ID': '8', 'function': '账号登录', 'testpoint': '密码输入框获取焦点时提示文字消失且边框变为绿色，失去焦点时恢复原状', 'prerequisite': '无', 'step': '1. 打开登录网址进入登录页面\n2. 鼠标点击密码输入框（获取焦点）\n3. 鼠标点击其他区域（失去焦点）', 'expected': '获取焦点时提示文字消失且边框变为绿色，失去焦点时恢复原状'}, {'case_ID': '9', 'function': '账号登录', 'testpoint': '验证码输入框获取焦点时提示文字消失且边框变为绿色，失去焦点时恢复原状', 'prerequisite': '无', 'step': '1. 打开登录网址进入登录页面\n2. 鼠标点击验证码输入框（获取焦点）\n3. 鼠标点击其他区域（失去焦点）', 'expected': '获取焦点时提示文字消失且边框变为绿色，失去焦点时恢复原状'}, {'case_ID': '10', 'function': '账号登录', 'testpoint': '点击【登录】按钮，账号校验不通过，在账号输入框下方红字提醒用户错误原因', 'prerequisite': '账号输入错误', 'step': '1. 打开登录网址进入登录页面\n2. 在账号输入框输入错误账号\n3. 在密码输入框输入正确密码\n4. 在验证码输入框输入正确验证码\n5. 点击【登录】按钮', 'expected': '账号输入框下方红字提醒用户错误原因'}, {'case_ID': '11', 'function': '账号登录', 'testpoint': '点击【登录】按钮，密码校验不通过，在密码输入框下方红字提醒用户错误原因', 'prerequisite': '密码输入错误', 'step': '1. 打开登录网址进入登录页面\n2. 在账号输入框输入正确账号\n3. 在密码输入框输入错误密码\n4. 在验证码输入框输入正确验证码\n5. 点击【登录】按钮', 'expected': '密码输入框下方红字提醒用户错误原因'}, {'case_ID': '12', 'function': '账号登录', 'testpoint': '点击【登录】按钮，验证码校验不通过，在验证码输入框下方红字提醒用户错误原因', 'prerequisite': '验证码输入错误', 'step': '1. 打开登录网址进入登录页面\n2. 在账号输入框输入正确账号\n3. 在密码输入框输入正确密码\n4. 在验证码输入框输入错误验证码\n5. 点击【登录】按钮', 'expected': '验证码输入框下方红字提醒用户错误原因'}, {'case_ID': '13', 'function': '账号登录', 'testpoint': '点击【找回密码】按钮，跳转至找回密码页面', 'prerequisite': '无', 'step': '1. 打开登录网址进入登录页面\n2. 点击【找回密码】按钮', 'expected': '跳转至找回密码页面'}, {'case_ID': '14', 'function': '账号登录', 'testpoint': '账号首次成功登录时，弹窗提示账号首次登录时需修改初始密码，点击【确定】按钮跳转至修改初始密码页面', 'prerequisite': '账号首次登录', 'step': '1. 打开登录网址进入登录页面\n2. 输入正确的账号、密码、验证码\n3. 点击【登录】按钮', 'expected': '弹窗提示账号首次登录时需修改初始密码，点击【确定】按钮跳转至修改初始密码页面'}, {'case_ID': '15', 'function': '账号登录', 'testpoint': '初始密码修改后，重新输入账号、密码、验证码进行登录', 'prerequisite': '已修改初始密码', 'step': '1. 打开登录网址进入登录页面\n2. 输入修改后的账号、密码、验证码\n3. 点击【登录】按钮', 'expected': '成功登录'}, {'case_ID': '16', 'function': '重置初始密码', 'testpoint': '用户初次成功登录账号后，弹窗提示用户修改初始密码，点击弹窗的【确定】按钮后页面跳转至重置初始密码页面', 'prerequisite': '账号初次成功登录', 'step': '1. 打开登录网址进入登录页面\n2. 输入正确的账号、密码、验证码\n3. 点击【登录】按钮\n4. 点击弹窗的【确定】按钮', 'expected': '页面跳转至重置初始密码页面'}, {'case_ID': '17', 'function': '重置初始密码', 'testpoint': '输入新密码后，点击新密码输入框的清空按钮，新密码输入框内容被清空', 'prerequisite': '已在新密码输入框输入内容', 'step': '1. 进入重置初始密码页面\n2. 在新密码输入框输入任意内容\n3. 点击新密码输入框的清空按钮', 'expected': '新密码输入框内容被清空'}, {'case_ID': '18', 'function': '重置初始密码', 'testpoint': '鼠标按下新密码输入框的明文查看按钮，密码明文展示，鼠标松开后密文展示', 'prerequisite': '已在新密码输入框输入内容', 'step': '1. 进入重置初始密码页面\n2. 在新密码输入框输入任意内容\n3. 鼠标按下新密码输入框的明文查看按钮\n4. 鼠标松开新密码输入框的明文查看按钮', 'expected': '鼠标按下时密码明文展示，松开后密文展示'}, {'case_ID': '19', 'function': '重置初始密码', 'testpoint': '输入确认密码后，点击确认密码输入框的清空按钮，确认密码输入框内容被清空', 'prerequisite': '已在确认密码输入框输入内容', 'step': '1. 进入重置初始密码页面\n2. 在确认密码输入框输入任意内容\n3. 点击确认密码输入框的清空按钮', 'expected': '确认密码输入框内容被清空'}, {'case_ID': '20', 'function': '重置初始密码', 'testpoint': '鼠标按下确认密码输入框的明文查看按钮，密码明文展示，鼠标松开后密文展示', 'prerequisite': '已在确认密码输入框输入内容', 'step': '1. 进入重置初始密码页面\n2. 在确认密码输入框输入任意内容\n3. 鼠标按下确认密码输入框的明文查看按钮\n4. 鼠标松开确认密码输入框的明文查看按钮', 'expected': '鼠标按下时密码明文展示，松开后密文展示'}, {'case_ID': '21', 'function': '重置初始密码', 'testpoint': '点击【获取验证码】按钮，向登录账号绑定手机号发送6位随机数字验证码', 'prerequisite': '账号绑定手机号且网络正常', 'step': '1. 进入重置初始密码页面\n2. 点击【获取验证码】按钮', 'expected': '向登录账号绑定手机号发送6位随机数字验证码'}, {'case_ID': '22', 'function': '重置初始密码', 'testpoint': '验证码已发送后，【获取验证码】按钮展示60秒倒计时，倒计时结束后恢复原状', 'prerequisite': '已点击【获取验证码】按钮发送验证码', 'step': '1. 进入重置初始密码页面\n2. 点击【获取验证码】按钮\n3. 观察【获取验证码】按钮', 'expected': '验证码已发送后，【获取验证码】按钮展示60秒倒计时，倒计时结束后恢复原状'}, {'case_ID': '23', 'function': '重置初始密码', 'testpoint': '验证码超过60秒有效期，提示验证码过期', 'prerequisite': '验证码已超过60秒未使用', 'step': '1. 进入重置初始密码页面\n2. 点击【获取验证码】按钮\n3. 等待验证码超过60秒有效期\n4. 尝试输入验证码并点击【提交】按钮', 'expected': '提示验证码过期'}, {'case_ID': '24', 'function': '重置初始密码', 'testpoint': '新密码输入框获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状', 'prerequisite': '无', 'step': '1. 进入重置初始密码页面\n2. 鼠标点击新密码输入框（获取焦点）\n3. 鼠标点击其他区域（失去焦点）', 'expected': '获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状'}, {'case_ID': '25', 'function': '重置初始密码', 'testpoint': '确认密码输入框获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状', 'prerequisite': '无', 'step': '1. 进入重置初始密码页面\n2. 鼠标点击确认密码输入框（获取焦点）\n3. 鼠标点击其他区域（失去焦点）', 'expected': '获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状'}, {'case_ID': '26', 'function': '重置初始密码', 'testpoint': '验证码输入框获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状', 'prerequisite': '进入重置初始密码页面', 'step': '1. 点击验证码输入框获取焦点\n2. 验证码输入框失去焦点', 'expected': '1. 验证码输入框获取焦点时提示文字消失且输入框边框变为绿色\n2. 验证码输入框失去焦点时恢复原状'}, {'case_ID': '27', 'function': '重置初始密码', 'testpoint': '点击【取消】按钮，取消修改初始密码，返回至登录页面', 'prerequisite': '进入重置初始密码页面', 'step': '1. 点击【取消】按钮', 'expected': '取消修改初始密码，返回至登录页面'}, {'case_ID': '28', 'function': '重置初始密码', 'testpoint': '点击【提交】按钮，密码校验不通过，在新密码输入框下方红字提醒用户错误原因', 'prerequisite': '进入重置初始密码页面，新密码输入框输入不符合要求的密码，确认密码输入框输入与新密码一致的密码，验证码输入框输入正确验证码', 'step': '1. 点击【提交】按钮', 'expected': '新密码输入框下方红字提醒用户密码错误原因'}, {'case_ID': '29', 'function': '重置初始密码', 'testpoint': '点击【提交】按钮，确认密码校验不通过，在确认密码输入框下方红字提醒用户错误原因', 'prerequisite': '进入重置初始密码页面，新密码输入框输入符合要求的密码，确认密码输入框输入与新密码不一致的密码，验证码输入框输入正确验证码', 'step': '1. 点击【提交】按钮', 'expected': '确认密码输入框下方红字提醒用户确认密码错误原因'}, {'case_ID': '30', 'function': '重置初始密码', 'testpoint': '点击【提交】按钮，验证码校验不通过，在验证码输入框下方红字提醒用户错误原因', 'prerequisite': '进入重置初始密码页面，新密码输入框输入符合要求的密码，确认密码输入框输入与新密码一致的密码，验证码输入框输入错误验证码', 'step': '1. 点击【提交】按钮', 'expected': '验证码输入框下方红字提醒用户验证码错误原因'}, {'case_ID': '31', 'function': '重置初始密码', 'testpoint': '点击【提交】按钮，全部校验通过，提示重置密码成功，然后返回至登录页面', 'prerequisite': '进入重置初始密码页面，新密码输入框输入符合要求的密码，确认密码输入框输入与新密码一致的密码，验证码输入框输入正确验证码', 'step': '1. 点击【提交】按钮', 'expected': '提示重置密码成功，然后返回至登录页面'}, {'case_ID': '32', 'function': '找回密码', 'testpoint': '用户打开登录网址进入登录页面，忘记登录密码后在登录页面点击【找回密码】按钮进入找回密码页面', 'prerequisite': '用户未登录状态', 'step': '1. 打开登录网址进入登录页面\n2. 点击【找回密码】按钮', 'expected': '进入找回密码页面'}, {'case_ID': '33', 'function': '找回密码', 'testpoint': '输入新密码后，点击新密码输入框的清空按钮，新密码输入框内容被清空', 'prerequisite': '进入找回密码页面，新密码输入框输入密码', 'step': '1. 点击新密码输入框的清空按钮', 'expected': '新密码输入框内容被清空'}, {'case_ID': '34', 'function': '找回密码', 'testpoint': '鼠标按下新密码输入框的明文查看按钮，密码明文展示，鼠标松开后密文展示', 'prerequisite': '进入找回密码页面，新密码输入框输入密码', 'step': '1. 鼠标按下新密码输入框的明文查看按钮\n2. 鼠标松开新密码输入框的明文查看按钮', 'expected': '1. 鼠标按下时密码明文展示\n2. 鼠标松开后密文展示'}, {'case_ID': '35', 'function': '找回密码', 'testpoint': '输入确认密码后，点击确认密码输入框的清空按钮，确认密码输入框内容被清空', 'prerequisite': '进入找回密码页面，确认密码输入框输入密码', 'step': '1. 点击确认密码输入框的清空按钮', 'expected': '确认密码输入框内容被清空'}, {'case_ID': '36', 'function': '找回密码', 'testpoint': '鼠标按下确认密码输入框的明文查看按钮，密码明文展示，鼠标松开后密文展示', 'prerequisite': '进入找回密码页面，确认密码输入框输入密码', 'step': '1. 鼠标按下确认密码输入框的明文查看按钮\n2. 鼠标松开确认密码输入框的明文查看按钮', 'expected': '1. 鼠标按下时密码明文展示\n2. 鼠标松开后密文展示'}, {'case_ID': '37', 'function': '找回密码', 'testpoint': '点击【获取验证码】按钮，向登录账号绑定手机号发送6位随机数字验证码', 'prerequisite': '进入找回密码页面，账号已绑定手机号', 'step': '1. 点击【获取验证码】按钮', 'expected': '向登录账号绑定手机号发送6位随机数字验证码'}, {'case_ID': '38', 'function': '找回密码', 'testpoint': '验证码已发送后，【获取验证码】按钮展示60秒倒计时，倒计时结束后恢复原状', 'prerequisite': '进入找回密码页面，点击【获取验证码】按钮发送验证码', 'step': '1. 查看【获取验证码】按钮', 'expected': '验证码已发送后，【获取验证码】按钮展示60秒倒计时，倒计时结束后恢复原状'}, {'case_ID': '39', 'function': '找回密码', 'testpoint': '验证码超过60秒有效期，提示验证码过期', 'prerequisite': '进入找回密码页面，点击【获取验证码】按钮发送验证码，等待超过60秒', 'step': '1. 输入超过有效期的验证码\n2. 点击【提交】按钮', 'expected': '提示验证码过期'}, {'case_ID': '40', 'function': '找回密码', 'testpoint': '新密码输入框获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状', 'prerequisite': '进入找回密码页面', 'step': '1. 点击新密码输入框获取焦点\n2. 新密码输入框失去焦点', 'expected': '1. 新密码输入框获取焦点时提示文字消失且输入框边框变为绿色\n2. 新密码输入框失去焦点时恢复原状'}, {'case_ID': '41', 'function': '找回密码', 'testpoint': '确认密码输入框获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状', 'prerequisite': '进入找回密码页面', 'step': '1. 点击确认密码输入框获取焦点\n2. 确认密码输入框失去焦点', 'expected': '1. 确认密码输入框获取焦点时提示文字消失且输入框边框变为绿色\n2. 确认密码输入框失去焦点时恢复原状'}, {'case_ID': '42', 'function': '找回密码', 'testpoint': '验证码输入框获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状', 'prerequisite': '进入找回密码页面', 'step': '1. 点击验证码输入框获取焦点\n2. 验证码输入框失去焦点', 'expected': '1. 验证码输入框获取焦点时提示文字消失且输入框边框变为绿色\n2. 验证码输入框失去焦点时恢复原状'}, {'case_ID': '43', 'function': '找回密码', 'testpoint': '点击【取消】按钮，取消修改初始密码，返回至登录页面', 'prerequisite': '进入找回密码页面', 'step': '1. 点击【取消】按钮', 'expected': '取消修改密码，返回至登录页面'}, {'case_ID': '44', 'function': '找回密码', 'testpoint': '点击【提交】按钮，密码校验不通过，在新密码输入框下方红字提醒用户错误原因', 'prerequisite': '进入找回密码页面，新密码输入框输入不符合要求的密码，确认密码输入框输入与新密码一致的密码，验证码输入框输入正确验证码', 'step': '1. 点击【提交】按钮', 'expected': '新密码输入框下方红字提醒用户密码错误原因'}, {'case_ID': '45', 'function': '找回密码', 'testpoint': '点击【提交】按钮，确认密码校验不通过，在确认密码输入框下方红字提醒用户错误原因', 'prerequisite': '进入找回密码页面，新密码输入框输入符合要求的密码，确认密码输入框输入与新密码不一致的密码，验证码输入框输入正确验证码', 'step': '1. 点击【提交】按钮', 'expected': '确认密码输入框下方红字提醒用户确认密码错误原因'}, {'case_ID': '46', 'function': '找回密码', 'testpoint': '点击【提交】按钮，验证码校验不通过，在验证码输入框下方红字提醒用户错误原因', 'prerequisite': '进入找回密码页面，新密码输入框输入符合要求的密码，确认密码输入框输入与新密码一致的密码，验证码输入框输入错误验证码', 'step': '1. 点击【提交】按钮', 'expected': '验证码输入框下方红字提醒用户验证码错误原因'}, {'case_ID': '47', 'function': '找回密码', 'testpoint': '点击【提交】按钮，全部校验通过，提示重置密码成功，然后返回至登录页面', 'prerequisite': '进入找回密码页面，新密码输入框输入符合要求的密码，确认密码输入框输入与新密码一致的密码，验证码输入框输入正确验证码', 'step': '1. 点击【提交】按钮', 'expected': '提示重置密码成功，然后返回至登录页面'}, {'case_ID': '48', 'function': '修改密码', 'testpoint': '用户成功登录账号，在我的页面选择修改密码进入修改密码页面', 'prerequisite': '用户已登录状态', 'step': '1. 成功登录账号\n2. 在我的页面选择修改密码', 'expected': '进入修改密码页面'}, {'case_ID': '49', 'function': '修改密码', 'testpoint': '输入原密码后，点击原密码输入框的清空按钮，原密码输入框内容被清空', 'prerequisite': '进入修改密码页面，原密码输入框输入密码', 'step': '1. 点击原密码输入框的清空按钮', 'expected': '原密码输入框内容被清空'}, {'case_ID': '50', 'function': '修改密码', 'testpoint': '鼠标按下原密码输入框的明文查看按钮，密码明文展示，鼠标松开后密文展示', 'prerequisite': '进入修改密码页面，原密码输入框输入密码', 'step': '1. 鼠标按下原密码输入框的明文查看按钮\n2. 鼠标松开原密码输入框的明文查看按钮', 'expected': '1. 鼠标按下时密码明文展示\n2. 鼠标松开后密文展示'}, {'case_ID': '51', 'function': '修改密码', 'testpoint': '输入新密码后，点击新密码输入框的清空按钮，新密码输入框内容被清空', 'prerequisite': '进入修改密码页面，新密码输入框有输入内容', 'step': '1. 进入修改密码页面\n2. 在新密码输入框输入内容\n3. 点击新密码输入框的清空按钮', 'expected': '新密码输入框内容被清空'}, {'case_ID': '52', 'function': '修改密码', 'testpoint': '鼠标按下新密码输入框的明文查看按钮，密码明文展示，鼠标松开后密文展示', 'prerequisite': '进入修改密码页面，新密码输入框有输入内容', 'step': '1. 进入修改密码页面\n2. 在新密码输入框输入内容\n3. 鼠标按下新密码输入框的明文查看按钮\n4. 鼠标松开新密码输入框的明文查看按钮', 'expected': '鼠标按下时密码明文展示，鼠标松开后密文展示'}, {'case_ID': '53', 'function': '修改密码', 'testpoint': '输入确认密码后，点击确认密码输入框的清空按钮，确认密码输入框内容被清空', 'prerequisite': '进入修改密码页面，确认密码输入框有输入内容', 'step': '1. 进入修改密码页面\n2. 在确认密码输入框输入内容\n3. 点击确认密码输入框的清空按钮', 'expected': '确认密码输入框内容被清空'}, {'case_ID': '54', 'function': '修改密码', 'testpoint': '鼠标按下确认密码输入框的明文查看按钮，密码明文展示，鼠标松开后密文展示', 'prerequisite': '进入修改密码页面，确认密码输入框有输入内容', 'step': '1. 进入修改密码页面\n2. 在确认密码输入框输入内容\n3. 鼠标按下确认密码输入框的明文查看按钮\n4. 鼠标松开确认密码输入框的明文查看按钮', 'expected': '鼠标按下时密码明文展示，鼠标松开后密文展示'}, {'case_ID': '55', 'function': '修改密码', 'testpoint': '点击【获取验证码】按钮，向登录账号绑定手机号发送6位随机数字验证码', 'prerequisite': '进入修改密码页面，登录账号已绑定手机号', 'step': '1. 进入修改密码页面\n2. 点击【获取验证码】按钮', 'expected': '向登录账号绑定手机号发送6位随机数字验证码'}, {'case_ID': '56', 'function': '修改密码', 'testpoint': '验证码已发送后，【获取验证码】按钮展示60秒倒计时，倒计时结束后恢复原状', 'prerequisite': '进入修改密码页面，点击【获取验证码】按钮发送验证码', 'step': '1. 进入修改密码页面\n2. 点击【获取验证码】按钮\n3. 观察【获取验证码】按钮状态', 'expected': '验证码已发送后，【获取验证码】按钮展示60秒倒计时，倒计时结束后恢复原状'}, {'case_ID': '57', 'function': '修改密码', 'testpoint': '验证码超过60秒有效期，提示验证码过期', 'prerequisite': '进入修改密码页面，点击【获取验证码】按钮发送验证码，等待超过60秒', 'step': '1. 进入修改密码页面\n2. 点击【获取验证码】按钮\n3. 等待超过60秒\n4. 输入验证码并提交', 'expected': '提示验证码过期'}, {'case_ID': '58', 'function': '修改密码', 'testpoint': '原密码输入框获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状', 'prerequisite': '进入修改密码页面，原密码输入框有提示文字', 'step': '1. 进入修改密码页面\n2. 点击原密码输入框获取焦点\n3. 原密码输入框失去焦点', 'expected': '获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状'}, {'case_ID': '59', 'function': '修改密码', 'testpoint': '新密码输入框获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状', 'prerequisite': '进入修改密码页面，新密码输入框有提示文字', 'step': '1. 进入修改密码页面\n2. 点击新密码输入框获取焦点\n3. 新密码输入框失去焦点', 'expected': '获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状'}, {'case_ID': '60', 'function': '修改密码', 'testpoint': '确认密码输入框获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状', 'prerequisite': '进入修改密码页面，确认密码输入框有提示文字', 'step': '1. 进入修改密码页面\n2. 点击确认密码输入框获取焦点\n3. 确认密码输入框失去焦点', 'expected': '获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状'}, {'case_ID': '61', 'function': '修改密码', 'testpoint': '验证码输入框获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状', 'prerequisite': '进入修改密码页面，验证码输入框有提示文字', 'step': '1. 进入修改密码页面\n2. 点击验证码输入框获取焦点\n3. 验证码输入框失去焦点', 'expected': '获取焦点时提示文字消失且输入框边框变为绿色，失去焦点时恢复原状'}, {'case_ID': '62', 'function': '修改密码', 'testpoint': '点击【取消】按钮，取消修改密码，返回至我的页面', 'prerequisite': '进入修改密码页面', 'step': '1. 进入修改密码页面\n2. 点击【取消】按钮', 'expected': '取消修改密码，返回至我的页面'}, {'case_ID': '63', 'function': '修改密码', 'testpoint': '点击【提交】按钮，原密码校验不通过，在原密码输入框下方红字提醒用户错误原因', 'prerequisite': '进入修改密码页面，原密码输入错误', 'step': '1. 进入修改密码页面\n2. 输入错误的原密码\n3. 输入其他正确信息\n4. 点击【提交】按钮', 'expected': '在原密码输入框下方红字提醒用户错误原因'}, {'case_ID': '64', 'function': '修改密码', 'testpoint': '点击【提交】按钮，新密码校验不通过，在新密码输入框下方红字提醒用户错误原因', 'prerequisite': '进入修改密码页面，新密码输入错误', 'step': '1. 进入修改密码页面\n2. 输入错误的新密码\n3. 输入其他正确信息\n4. 点击【提交】按钮', 'expected': '在新密码输入框下方红字提醒用户错误原因'}, {'case_ID': '65', 'function': '修改密码', 'testpoint': '点击【提交】按钮，确认密码校验不通过，在确认密码输入框下方红字提醒用户错误原因', 'prerequisite': '进入修改密码页面，确认密码输入错误', 'step': '1. 进入修改密码页面\n2. 输入错误的确认密码\n3. 输入其他正确信息\n4. 点击【提交】按钮', 'expected': '在确认密码输入框下方红字提醒用户错误原因'}, {'case_ID': '66', 'function': '修改密码', 'testpoint': '点击【提交】按钮，验证码校验不通过，在验证码输入框下方红字提醒用户错误原因', 'prerequisite': '进入修改密码页面，验证码输入错误', 'step': '1. 进入修改密码页面\n2. 输入错误的验证码\n3. 输入其他正确信息\n4. 点击【提交】按钮', 'expected': '在验证码输入框下方红字提醒用户错误原因'}, {'case_ID': '67', 'function': '修改密码', 'testpoint': '点击【提交】按钮，全部校验通过，提示重置密码成功', 'prerequisite': '进入修改密码页面，所有信息输入正确', 'step': '1. 进入修改密码页面\n2. 输入所有正确信息\n3. 点击【提交】按钮', 'expected': '提示重置密码成功'}, {'case_ID': '68', 'function': '账号登录', 'testpoint': '账号输入框输入超长文本', 'prerequisite': '进入登录页面', 'step': '1. 进入登录页面\n2. 在账号输入框输入超长文本', 'expected': '系统有相应的输入长度限制提示（若有）'}, {'case_ID': '69', 'function': '账号登录', 'testpoint': '账号输入框输入特殊字符', 'prerequisite': '进入登录页面', 'step': '1. 进入登录页面\n2. 在账号输入框输入特殊字符', 'expected': '系统有相应的输入字符限制提示（若有）'}, {'case_ID': '70', 'function': '账号登录', 'testpoint': '账号输入框输入空字符串', 'prerequisite': '进入登录页面', 'step': '1. 进入登录页面\n2. 在账号输入框不输入任何内容（空字符串）', 'expected': '系统提示账号不能为空'}, {'case_ID': '71', 'function': '账号登录', 'testpoint': '密码输入框输入超长文本', 'prerequisite': '进入登录页面', 'step': '1. 进入登录页面\n2. 在密码输入框输入超长文本', 'expected': '系统有相应的输入长度限制提示（若有）'}, {'case_ID': '72', 'function': '账号登录', 'testpoint': '密码输入框输入特殊字符', 'prerequisite': '进入登录页面', 'step': '1. 进入登录页面\n2. 在密码输入框输入特殊字符', 'expected': '系统有相应的输入字符限制提示（若有）'}, {'case_ID': '73', 'function': '账号登录', 'testpoint': '密码输入框输入空字符串', 'prerequisite': '进入登录页面', 'step': '1. 进入登录页面\n2. 在密码输入框不输入任何内容（空字符串）', 'expected': '系统提示密码不能为空'}, {'case_ID': '74', 'function': '账号登录', 'testpoint': '网络中断时，点击【登录】按钮，提示网络连接失败', 'prerequisite': '进入登录页面，网络中断', 'step': '1. 进入登录页面\n2. 模拟网络中断\n3. 点击【登录】按钮', 'expected': '提示网络连接失败'}, {'case_ID': '75', 'function': '账号登录', 'testpoint': '服务器返回500错误时，点击【登录】按钮，提示服务器错误', 'prerequisite': '进入登录页面，服务器可模拟返回500错误', 'step': '1. 进入登录页面\n2. 模拟服务器返回500错误\n3. 点击【登录】按钮', 'expected': '提示服务器错误'}, {'case_ID': '76', 'function': '重置初始密码', 'testpoint': '新密码输入框输入超长文本', 'prerequisite': '用户初次成功登录账号后弹窗提示修改初始密码，点击【确定】按钮后进入重置初始密码页面', 'step': '1. 进入重置初始密码页面\n2. 在新密码输入框中输入超长文本', 'expected': '1. 输入框下方红字提醒用户错误原因'}, {'case_ID': '77', 'function': '重置初始密码', 'testpoint': '新密码输入框输入特殊字符', 'prerequisite': '用户初次成功登录账号后弹窗提示修改初始密码，点击【确定】按钮后进入重置初始密码页面', 'step': '1. 进入重置初始密码页面\n2. 在新密码输入框中输入特殊字符', 'expected': '1. 输入框下方红字提醒用户错误原因'}, {'case_ID': '78', 'function': '重置初始密码', 'testpoint': '新密码输入框输入空字符串', 'prerequisite': '用户初次成功登录账号后弹窗提示修改初始密码，点击【确定】按钮后进入重置初始密码页面', 'step': '1. 进入重置初始密码页面\n2. 在新密码输入框中输入空字符串', 'expected': '1. 输入框下方红字提醒用户错误原因'}, {'case_ID': '79', 'function': '重置初始密码', 'testpoint': '确认密码输入框输入超长文本', 'prerequisite': '用户初次成功登录账号后弹窗提示修改初始密码，点击【确定】按钮后进入重置初始密码页面', 'step': '1. 进入重置初始密码页面\n2. 在确认密码输入框中输入超长文本', 'expected': '1. 输入框下方红字提醒用户错误原因'}, {'case_ID': '80', 'function': '重置初始密码', 'testpoint': '确认密码输入框输入特殊字符', 'prerequisite': '用户初次成功登录账号后弹窗提示修改初始密码，点击【确定】按钮后进入重置初始密码页面', 'step': '1. 进入重置初始密码页面\n2. 在确认密码输入框中输入特殊字符', 'expected': '1. 输入框下方红字提醒用户错误原因'}, {'case_ID': '81', 'function': '重置初始密码', 'testpoint': '确认密码输入框输入空字符串', 'prerequisite': '用户初次成功登录账号后弹窗提示修改初始密码，点击【确定】按钮后进入重置初始密码页面', 'step': '1. 进入重置初始密码页面\n2. 在确认密码输入框中输入空字符串', 'expected': '1. 输入框下方红字提醒用户错误原因'}, {'case_ID': '82', 'function': '重置初始密码', 'testpoint': '网络中断时，点击【提交】按钮，提示网络连接失败', 'prerequisite': '用户初次成功登录账号后弹窗提示修改初始密码，点击【确定】按钮后进入重置初始密码页面，且网络中断', 'step': '1. 进入重置初始密码页面\n2. 网络中断\n3. 点击【提交】按钮', 'expected': '1. 提示网络连接失败'}, {'case_ID': '83', 'function': '重置初始密码', 'testpoint': '服务器返回500错误时，点击【提交】按钮，提示服务器错误', 'prerequisite': '用户初次成功登录账号后弹窗提示修改初始密码，点击【确定】按钮后进入重置初始密码页面，且服务器返回500错误', 'step': '1. 进入重置初始密码页面\n2. 服务器返回500错误\n3. 点击【提交】按钮', 'expected': '1. 提示服务器错误'}, {'case_ID': '84', 'function': '找回密码', 'testpoint': '新密码输入框输入超长文本', 'prerequisite': '用户打开登录网址进入登录页面，点击【找回密码】按钮进入找回密码页面', 'step': '1. 进入找回密码页面\n2. 在新密码输入框中输入超长文本', 'expected': '1. 输入框下方红字提醒用户错误原因'}, {'case_ID': '85', 'function': '找回密码', 'testpoint': '新密码输入框输入特殊字符', 'prerequisite': '用户打开登录网址进入登录页面，点击【找回密码】按钮进入找回密码页面', 'step': '1. 进入找回密码页面\n2. 在新密码输入框中输入特殊字符', 'expected': '1. 输入框下方红字提醒用户错误原因'}, {'case_ID': '86', 'function': '找回密码', 'testpoint': '新密码输入框输入空字符串', 'prerequisite': '用户打开登录网址进入登录页面，点击【找回密码】按钮进入找回密码页面', 'step': '1. 进入找回密码页面\n2. 在新密码输入框中输入空字符串', 'expected': '1. 输入框下方红字提醒用户错误原因'}, {'case_ID': '87', 'function': '找回密码', 'testpoint': '确认密码输入框输入超长文本', 'prerequisite': '用户打开登录网址进入登录页面，点击【找回密码】按钮进入找回密码页面', 'step': '1. 进入找回密码页面\n2. 在确认密码输入框中输入超长文本', 'expected': '1. 输入框下方红字提醒用户错误原因'}, {'case_ID': '88', 'function': '找回密码', 'testpoint': '确认密码输入框输入特殊字符', 'prerequisite': '用户打开登录网址进入登录页面，点击【找回密码】按钮进入找回密码页面', 'step': '1. 进入找回密码页面\n2. 在确认密码输入框中输入特殊字符', 'expected': '1. 输入框下方红字提醒用户错误原因'}, {'case_ID': '89', 'function': '找回密码', 'testpoint': '确认密码输入框输入空字符串', 'prerequisite': '用户打开登录网址进入登录页面，点击【找回密码】按钮进入找回密码页面', 'step': '1. 进入找回密码页面\n2. 在确认密码输入框中输入空字符串', 'expected': '1. 输入框下方红字提醒用户错误原因'}, {'case_ID': '90', 'function': '找回密码', 'testpoint': '网络中断时，点击【提交】按钮，提示网络连接失败', 'prerequisite': '用户打开登录网址进入登录页面，点击【找回密码】按钮进入找回密码页面，且网络中断', 'step': '1. 进入找回密码页面\n2. 网络中断\n3. 点击【提交】按钮', 'expected': '1. 提示网络连接失败'}, {'case_ID': '91', 'function': '找回密码', 'testpoint': '服务器返回500错误时，点击【提交】按钮，提示服务器错误', 'prerequisite': '用户打开登录网址进入登录页面，点击【找回密码】按钮进入找回密码页面，且服务器返回500错误', 'step': '1. 进入找回密码页面\n2. 服务器返回500错误\n3. 点击【提交】按钮', 'expected': '1. 提示服务器错误'}, {'case_ID': '92', 'function': '修改密码', 'testpoint': '原密码输入框输入超长文本', 'prerequisite': '用户成功登录账号，在我的页面选择修改密码进入修改密码页面', 'step': '1. 进入修改密码页面\n2. 在原密码输入框中输入超长文本', 'expected': '1. 输入框下方红字提醒用户错误原因'}, {'case_ID': '93', 'function': '修改密码', 'testpoint': '原密码输入框输入特殊字符', 'prerequisite': '用户成功登录账号，在我的页面选择修改密码进入修改密码页面', 'step': '1. 进入修改密码页面\n2. 在原密码输入框中输入特殊字符', 'expected': '1. 输入框下方红字提醒用户错误原因'}, {'case_ID': '94', 'function': '修改密码', 'testpoint': '原密码输入框输入空字符串', 'prerequisite': '用户成功登录账号，在我的页面选择修改密码进入修改密码页面', 'step': '1. 进入修改密码页面\n2. 在原密码输入框中输入空字符串', 'expected': '1. 输入框下方红字提醒用户错误原因'}, {'case_ID': '95', 'function': '修改密码', 'testpoint': '新密码输入框输入超长文本', 'prerequisite': '用户成功登录账号，在我的页面选择修改密码进入修改密码页面', 'step': '1. 进入修改密码页面\n2. 在新密码输入框中输入超长文本', 'expected': '1. 输入框下方红字提醒用户错误原因'}, {'case_ID': '96', 'function': '修改密码', 'testpoint': '新密码输入框输入特殊字符', 'prerequisite': '用户成功登录账号，在我的页面选择修改密码进入修改密码页面', 'step': '1. 进入修改密码页面\n2. 在新密码输入框中输入特殊字符', 'expected': '1. 输入框下方红字提醒用户错误原因'}, {'case_ID': '97', 'function': '修改密码', 'testpoint': '新密码输入框输入空字符串', 'prerequisite': '用户成功登录账号，在我的页面选择修改密码进入修改密码页面', 'step': '1. 进入修改密码页面\n2. 在新密码输入框中输入空字符串', 'expected': '1. 输入框下方红字提醒用户错误原因'}, {'case_ID': '98', 'function': '修改密码', 'testpoint': '确认密码输入框输入超长文本', 'prerequisite': '用户成功登录账号，在我的页面选择修改密码进入修改密码页面', 'step': '1. 进入修改密码页面\n2. 在确认密码输入框中输入超长文本', 'expected': '1. 输入框下方红字提醒用户错误原因'}, {'case_ID': '99', 'function': '修改密码', 'testpoint': '确认密码输入框输入特殊字符', 'prerequisite': '用户成功登录账号，在我的页面选择修改密码进入修改密码页面', 'step': '1. 进入修改密码页面\n2. 在确认密码输入框中输入特殊字符', 'expected': '1. 输入框下方红字提醒用户错误原因'}, {'case_ID': '100', 'function': '修改密码', 'testpoint': '确认密码输入框输入空字符串', 'prerequisite': '用户成功登录账号，在我的页面选择修改密码进入修改密码页面', 'step': '1. 进入修改密码页面\n2. 在确认密码输入框中输入空字符串', 'expected': '1. 输入框下方红字提醒用户错误原因'}, {'case_ID': '101', 'function': '修改密码', 'testpoint': '网络中断时，点击【提交】按钮，提示网络连接失败', 'prerequisite': '用户已成功登录账号，进入修改密码页面，且网络已中断', 'step': '1. 在原密码输入框、新密码输入框、确认密码输入框输入正确密码 2. 点击【获取验证码】按钮获取验证码并输入 3. 点击【提交】按钮', 'expected': '提示网络连接失败'}, {'case_ID': '102', 'function': '修改密码', 'testpoint': '服务器返回500错误时，点击【提交】按钮，提示服务器错误', 'prerequisite': '用户已成功登录账号，进入修改密码页面，且服务器可模拟返回500错误', 'step': '1. 在原密码输入框、新密码输入框、确认密码输入框输入正确密码 2. 点击【获取验证码】按钮获取验证码并输入 3. 点击【提交】按钮', 'expected': '提示服务器错误'}]

final_generated_cases = []

sta = state.TestCaseGenerationState(prd_content=text, detected_testPoint=test_point, generated_cases=generated_case, total_evaluation_report={}, single_evaluation_report=[], vectorstore=None)
llm, embeddings = llm_initial.initialize_llm("Volcengine", "doubao-Seed-1.6-thinking", "doubao-embedding")
test_case = generator.generator_agent_node(sta, llm, embeddings)
sta["generated_cases"] = test_case

while sta["generated_cases"]:
    single_eval_report = evaluator.single_evaluator_agent_node(sta, llm, embeddings)
    sta["single_evaluation_report"] = single_eval_report

    # 拆分集合
    score_map = {item['case_ID']: item for item in sta["single_evaluation_report"]}
    high_quality_cases = []
    high_quality_scores = []
    low_quality_cases = []
    low_quality_scores = []

    # 遍历主测试用例列表
    for case in sta["generated_cases"]:
        case_id = case.get("case_ID")
        score_obj = score_map.get(case_id)
        if score_obj and isinstance(score_obj, dict):
            score_str = score_obj.get('score')
            try:
                score_value = float(score_str)
                if score_value >= 4.5:
                    # 同步添加到高质量组
                    high_quality_cases.append(case)
                    high_quality_scores.append(score_obj)
                else:
                    # 同步添加到待优化组
                    low_quality_cases.append(case)
                    low_quality_scores.append(score_obj)
            except (ValueError, TypeError):
                # 如果分数无效，同步添加到待优化组
                print(f"警告: Case ID '{case_id}' 的分数 '{score_str}' 无效，已同步归入待优化组。")
                low_quality_cases.append(case)
                low_quality_scores.append(score_obj)
        else:
            # 如果找不到评分，只将测试用例归入待优化组
            print(f"警告: 未找到 Case ID '{case_id}' 的评分，用例已归入待优化组。")
            low_quality_cases.append(case)

    final_generated_cases.extend(high_quality_cases)
    sta["generated_cases"] = low_quality_cases
    sta["single_evaluation_report"] = low_quality_scores
    sta["generated_cases"] = reconstructor.reconstructor_agent_node(sta, llm, embeddings)

print(final_generated_cases)
